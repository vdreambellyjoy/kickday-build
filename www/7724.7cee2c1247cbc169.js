"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7724],{7724:(C,x,c)=>{c.r(x),c.d(x,{ListingsPageModule:()=>h});var g=c(6814),n=c(95),a=c(9004),v=c(2436),t=c(5678),U=c(4414),L=c(5565);function _(i,l){if(1&i){const r=t.EpF();t.TgZ(0,"ion-col",16)(1,"ion-icon",17),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.goToBack())}),t.qZA()()}}function b(i,l){if(1&i){const r=t.EpF();t.TgZ(0,"ion-card",18),t.NdJ("click",function(){const p=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.openListing(p))}),t.TgZ(1,"ion-row")(2,"ion-col")(3,"ion-text"),t._uU(4),t.ALo(5,"date"),t.qZA()()(),t.TgZ(6,"ion-row")(7,"ion-col")(8,"ion-text"),t._uU(9,"Listing ID"),t.qZA()(),t.TgZ(10,"ion-col")(11,"ion-text"),t._uU(12),t.qZA()(),t.TgZ(13,"ion-col")(14,"ion-text"),t._uU(15),t.qZA()(),t.TgZ(16,"ion-col")(17,"ion-text"),t._uU(18),t.qZA()()(),t.TgZ(19,"ion-row",19)(20,"ion-col",20)(21,"ion-text",21),t._uU(22),t.qZA()(),t.TgZ(23,"ion-col",22),t._UZ(24,"ion-icon",23),t.qZA()(),t.TgZ(25,"ion-row")(26,"ion-col",24)(27,"ion-text",25),t._uU(28,"Order will end on"),t.qZA()(),t.TgZ(29,"ion-col",24)(30,"ion-text",25),t._uU(31,"Order will delivered on"),t.qZA()()(),t.TgZ(32,"ion-row")(33,"ion-col",26),t._UZ(34,"ion-icon",27),t.TgZ(35,"div",28)(36,"ion-text"),t._uU(37),t.ALo(38,"date"),t.qZA()()(),t.TgZ(39,"ion-col",26),t._UZ(40,"ion-icon",27),t.TgZ(41,"div",28)(42,"ion-text"),t._uU(43),t.ALo(44,"date"),t.qZA()()()()()}if(2&i){const r=l.$implicit;t.xp6(4),t.hij(" Created on ",t.xi3(5,7,r.createdAt,"dd MMMM EEE")," "),t.xp6(8),t.Oqu(r.ID),t.xp6(3),t.Oqu((null==r?null:r.status)||"Active"),t.xp6(3),t.hij("",r.customerOrdersCount," Orders"),t.xp6(4),t.Oqu(r.label),t.xp6(15),t.Oqu(t.xi3(38,10,r.orderEndsOn,"dd MMMM EEE hh:mm a")),t.xp6(6),t.Oqu(t.xi3(44,13,r.orderDeliveredOn,"dd MMMM EEE"))}}function Z(i,l){if(1&i){const r=t.EpF();t.TgZ(0,"ion-footer",29)(1,"ion-card",30)(2,"ion-row")(3,"ion-col",31),t._UZ(4,"ion-ripple-effect",32)(5,"ion-icon",33),t.TgZ(6,"ion-text",34),t._uU(7,"Listings"),t.qZA()(),t.TgZ(8,"ion-col",35),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.navigateToCreateListing())}),t._UZ(9,"ion-ripple-effect",32)(10,"ion-icon",36),t.TgZ(11,"ion-text",34),t._uU(12,"Create Listing"),t.qZA()(),t.TgZ(13,"ion-col",35),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.navigateToDashboard())}),t._UZ(14,"ion-ripple-effect",32)(15,"ion-icon",37),t.TgZ(16,"ion-text",34),t._uU(17,"Profile"),t.qZA()()()()()}}const u=[{path:"",component:(()=>{var i;class l{constructor(o,s,p){this.router=o,this.navCtrl=s,this.adminService=p,this.userData={},this.listings=[],this.selectedSegment="Live"}ngOnInit(){}ionViewWillEnter(){let o=localStorage.getItem("userData");this.userData=JSON.parse(o),this.changeSegment(this.selectedSegment)}openListing(o){this.router.navigateByUrl("/listingOverView/"+o._id)}goToBack(){this.router.navigate(["/adminDashboard"])}navigateToDashboard(){this.router.navigate(["/makerDashboard"])}navigateToCreateListing(){this.router.navigate(["/createListing"])}changeSegment(o="Live"){this.selectedSegment=o,this.adminService.getAllListings({selectedValue:this.selectedSegment}).subscribe(s=>{s.success&&(this.listings=s.list.length?s.list:[])},s=>{console.log(s)})}}return(i=l).\u0275fac=function(o){return new(o||i)(t.Y36(v.F0),t.Y36(U.SH),t.Y36(L.l))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-listings"]],decls:24,vars:6,consts:[[2,"box-shadow","none",3,"translucent"],[2,"padding","5px 10px 0px 10px"],["size","2","style","display: flex; justify-content: start; align-items: center;",4,"ngIf"],[1,"kd_center_align_items"],["name","bag-handle-outline",1,"kd_svg_size"],[2,"padding-left","10px","font-size","18px"],[2,"padding","0px","--background","white","box-shadow","none","background-color","#dfd9f1","--box-shadow","none"],["mode","md",3,"ngModel","ionChange","ngModelChange"],["value","Live"],["value","Completed"],["value","InActive"],[3,"fullscreen"],[2,"margin","15px"],["class","kd_orders_card",3,"click",4,"ngFor","ngForOf"],[2,"height","100px"],["style","bottom: 0px; position: absolute",4,"ngIf"],["size","2",2,"display","flex","justify-content","start","align-items","center"],["name","arrow-back-outline",1,"kd_back_button",3,"click"],[1,"kd_orders_card",3,"click"],[2,"margin-bottom","10px"],["size","10"],[2,"font-weight","bold"],["size","2",1,"kd_flex","kd_end_align"],["name","arrow-forward-circle-outline",1,"icon_style",2,"height","32px","width","32px","padding-right","0px"],[1,"ion-no-padding"],[2,"font-size","14px","font-weight","bold"],[1,"kd_flex"],["name","calendar-outline",1,"icon_style",2,"height","30px","width","30px"],[1,"kd_flex",2,"padding-top","5px"],[2,"bottom","0px","position","absolute"],[2,"margin","0px","border-radius","0px","padding","10px"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent"],[1,"ripple_background"],["name","bag-handle-outline",1,"footer_icon_styles"],[1,"icon-text_styles"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent",3,"click"],["name","add-circle-outline",1,"footer_icon_styles"],["name","person-circle-outline",1,"footer_icon_styles"]],template:function(o,s){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1),t.YNc(3,_,2,0,"ion-col",2),t.TgZ(4,"ion-col",3),t._UZ(5,"ion-icon",4),t.TgZ(6,"ion-text",5),t._uU(7,"Listings"),t.qZA()()()()(),t.TgZ(8,"ion-toolbar",6)(9,"ion-segment",7),t.NdJ("ionChange",function(d){return s.changeSegment(d.target.value)})("ngModelChange",function(d){return s.selectedSegment=d}),t.TgZ(10,"ion-segment-button",8)(11,"ion-label"),t._uU(12,"Live"),t.qZA()(),t.TgZ(13,"ion-segment-button",9)(14,"ion-label"),t._uU(15,"Completed"),t.qZA()(),t.TgZ(16,"ion-segment-button",10)(17,"ion-label"),t._uU(18,"InActive"),t.qZA()()()(),t.TgZ(19,"ion-content",11)(20,"div",12),t.YNc(21,b,45,16,"ion-card",13),t.qZA(),t._UZ(22,"div",14),t.qZA(),t.YNc(23,Z,18,0,"ion-footer",15)),2&o&&(t.Q6J("translucent",!0),t.xp6(3),t.Q6J("ngIf","admin"==s.userData.role),t.xp6(6),t.Q6J("ngModel",s.selectedSegment),t.xp6(10),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngForOf",s.listings),t.xp6(2),t.Q6J("ngIf","maker"==s.userData.role))},dependencies:[g.sg,g.O5,n.JJ,n.On,a.PM,a.wI,a.W2,a.fr,a.Gu,a.gu,a.Q$,a.H$,a.Nd,a.cJ,a.GO,a.yW,a.sr,a.QI,g.uU],styles:[".kd_orders_card[_ngcontent-%COMP%]{margin:15px 0 20px!important;padding:10px}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}.flex_start[_ngcontent-%COMP%]{align-items:flex-start}"]}),l})()}];let f=(()=>{var i;class l{}return(i=l).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[v.Bz.forChild(u),v.Bz]}),l})(),h=(()=>{var i;class l{}return(i=l).\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,n.u5,a.Pc,f]}),l})()},5565:(C,x,c)=>{c.d(x,{l:()=>L});var g=c(5861),n=c(553),a=c(5678),v=c(2436),t=c(9862),U=c(4414);let L=(()=>{var _;class b{constructor(e,u,f,h){this.route=e,this.http=u,this.alertController=f,this.loadingController=h}getUsersCount(e){return this.http.post(n.N.baseUrl+"/admin/getUsersCount",e)}getListingsCount(e){return this.http.post(n.N.baseUrl+"/admin/getListingsCount",e)}getAllListings(e){return this.http.post(n.N.baseUrl+"/admin/getAllListings",e)}getListingBasedOnId(e){return this.http.post(n.N.baseUrl+"/admin/getListingBasedOnId",e)}getAllUsersList(e){return this.http.post(n.N.baseUrl+"/admin/getAllUsersList",e)}getUserBasedOnId(e){return this.http.post(n.N.baseUrl+"/admin/getUserBasedOnId",e)}activeDeActiveListing(e){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveListing",e)}createMaker(e){return this.http.post(n.N.baseUrl+"/admin/createMaker",e)}updateKitchenImages(e){return this.http.post(n.N.baseUrl+"/admin/updateKitchenImages",e)}updateBankDetails(e){return this.http.post(n.N.baseUrl+"/admin/updateBankDetails",e)}getUserOverView(e){return this.http.post(n.N.baseUrl+"/admin/getUserOverView",e)}activeDeActiveUser(e){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveUser",e)}getMakerDashboardData(e){return this.http.post(n.N.baseUrl+"/maker/getMakerDashboardData",e)}addEditListing(e){return this.http.post(n.N.baseUrl+"/maker/addEditListing",e)}deleteListing(e){return this.http.post(n.N.baseUrl+"/maker/deleteListing",e)}changeOrderStatus(e){return this.http.post(n.N.baseUrl+"/maker/changeOrderStatus",e)}toggleMakerStatus(e){return this.http.post(n.N.baseUrl+"/maker/toggleMakerStatus",e)}updateCustomerDetails(e){return this.http.post(n.N.baseUrl+"/customer/updateCustomerDetails",e)}getCustomerOrders(e){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrders",e)}getAllListingsForCustomer(e){return this.http.post(n.N.baseUrl+"/auth/getAllListingsForCustomer",e)}setFavItem(e){return this.http.post(n.N.baseUrl+"/customer/setFavItem",e)}setUnFavItem(e){return this.http.post(n.N.baseUrl+"/customer/setUnFavItem",e)}getListingForUser(e){return this.http.post(n.N.baseUrl+"/auth/getListingForUser",e)}getCustomerAddress(e){return this.http.post(n.N.baseUrl+"/customer/getCustomerAddress",e)}deleteTempOrder(e){return this.http.post(n.N.baseUrl+"/customer/deleteTempOrder",e)}addCustomerAddress(e){return this.http.post(n.N.baseUrl+"/customer/addCustomerAddress",e)}setDefaultAddress(e){return this.http.post(n.N.baseUrl+"/customer/setDefaultAddress",e)}deleteAddress(e){return this.http.post(n.N.baseUrl+"/customer/deleteAddress",e)}addToCart(e){return this.http.post(n.N.baseUrl+"/customer/addToCart",e)}getCustomerOrderSummary(e){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrderSummary",e)}placeOrder(e){return this.http.post(n.N.baseUrl+"/customer/placeOrder",e)}createOrderInRazorPay(e){return this.http.post(n.N.baseUrl+"/customer/createOrderInRazorPay",e)}payWithRazorpay(e,u,f){var h=this;return(0,g.Z)(function*(){return new Promise(function(){var i=(0,g.Z)(function*(l,r){const o={key:n.N.razorpayKey,amount:100*u,currency:"INR",name:"Vdream Innovations (OPC) private limited",description:"Vdream Innovations",order_id:e,handler:(p=(0,g.Z)(function*(d){try{let y={...yield h.verifyPayment({verify:d}),...d};console.log({obj:y}),l(y)}catch(m){console.log({error:m}),r(m)}}),function(m){return p.apply(this,arguments)}),prefill:{name:"test",email:"test",contact:"test"},theme:{color:"#3399cc"},modal:{ondismiss:()=>{r({message:"Your payment has been cancelled."})}},retry:{enabled:!1}},s=new Razorpay(o);var p;yield s.on("payment.failed",function(){var p=(0,g.Z)(function*(d){let m=d.error||d||{};m.message=m.message||m.description,s.close(),console.log("closed"),r(m)});return function(d){return p.apply(this,arguments)}}()),yield s.open()});return function(l,r){return i.apply(this,arguments)}}())})()}verifyPayment(e){return this.http.post(n.N.baseUrl+"/customer/verifyPaymentDetails",e)}savePaymentFailedDetails(e){return this.http.post(n.N.baseUrl+"/customer/savePaymentFailedDetails",e)}presentDeleteConfirmation(e,u,f){var h=this;return(0,g.Z)(function*(){return new Promise(function(){var i=(0,g.Z)(function*(l){yield(yield h.alertController.create({header:e,message:u,cssClass:f,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{l(!1)}},{text:"OK",cssClass:"primary",handler:()=>{l(!0)}}]})).present()});return function(l){return i.apply(this,arguments)}}())})()}presentLoading(){var e=this;return(0,g.Z)(function*(){const u=yield e.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield u.present(),u})()}}return(_=b).\u0275fac=function(e){return new(e||_)(a.LFG(v.F0),a.LFG(t.eN),a.LFG(U.Br),a.LFG(U.HT))},_.\u0275prov=a.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),b})()}}]);