"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9634],{1273:(v,O,a)=>{a.d(O,{z:()=>b});var u=a(5861),s=a(95),e=a(5678),h=a(4414),d=a(9004),m=a(5565),f=a(6814);function p(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"My Addresses"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-icon",2),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.dismiss())}),e.qZA()()()()}}function C(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(r){e.CHM(i);const l=e.oxw().$implicit;return e.oxw(2).makeDefaultAddresses(l._id),e.KtG(r.stopPropagation())}),e._uU(1," Set as Default "),e.qZA()}}function P(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"ion-icon",14),e.NdJ("click",function(r){e.CHM(i);const l=e.oxw().$implicit;return e.oxw(2).deleteAddress(l._id),e.KtG(r.stopPropagation())}),e.qZA()}}function t(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",6),e.NdJ("click",function(){const l=e.CHM(i).$implicit,c=e.oxw(2);return e.KtG(c.selectAddress(l))}),e.TgZ(1,"div",7)(2,"div",8)(3,"ion-avatar",9),e._UZ(4,"ion-icon",10),e.qZA(),e.TgZ(5,"ion-label")(6,"h2"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA(),e.YNc(16,C,2,0,"a",11),e.qZA()(),e.YNc(17,P,1,0,"ion-icon",12),e.qZA()()}if(2&o){const i=_.$implicit;e.xp6(4),e.Udp("color",i.default?"#946142":"grey"),e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Oqu(i.address),e.xp6(2),e.Oqu(i.LocationUrl),e.xp6(2),e.Oqu(i.email),e.xp6(2),e.Oqu(i.mobile),e.xp6(1),e.Q6J("ngIf",!i.default),e.xp6(1),e.Q6J("ngIf",!i.default)}}function g(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list")(2,"ion-button",3),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.showAddressForm=!0)}),e._UZ(3,"ion-icon",4),e._uU(4," Add Address "),e.qZA(),e.YNc(5,t,18,9,"ion-item",5),e.qZA()()}if(2&o){const i=e.oxw();e.xp6(5),e.Q6J("ngForOf",i.addressList)}}function U(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Add Address"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-icon",2),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.showAddressForm=!1)}),e.qZA()()()()}}function A(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"ion-content")(1,"form",15)(2,"ion-card",16)(3,"ion-item")(4,"ion-label",17),e._uU(5,"Name*"),e.qZA(),e._UZ(6,"ion-input",18),e.qZA()(),e.TgZ(7,"ion-card",19)(8,"ion-item")(9,"ion-label",17),e._uU(10,"Email*"),e.qZA(),e._UZ(11,"ion-input",20),e.qZA()(),e.TgZ(12,"ion-card",19)(13,"ion-item")(14,"ion-label",17),e._uU(15,"Mobile*"),e.qZA(),e._UZ(16,"ion-input",21),e.qZA()(),e.TgZ(17,"ion-card",19)(18,"ion-item")(19,"ion-label",17),e._uU(20,"Address*"),e.qZA(),e._UZ(21,"ion-input",22),e.qZA()(),e.TgZ(22,"ion-card",19)(23,"ion-item")(24,"ion-label",17),e._uU(25,"Googgle Location URL*"),e.qZA(),e._UZ(26,"ion-input",23),e.qZA()(),e.TgZ(27,"ion-row")(28,"ion-col",24)(29,"ion-button",25),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.saveDetails())}),e._uU(30,"SAVE"),e.qZA()()()()()}if(2&o){const i=e.oxw();e.xp6(1),e.Q6J("formGroup",i.deliveryDataForm)}}let b=(()=>{var o;class _{constructor(n,r,l,c){this.fb=n,this.modalCtrl=r,this.adminService=l,this.alertController=c,this.addressList=[],this.showAddressForm=!1,this.deliveryDataForm=this.fb.group({name:["",s.kI.required],email:["",s.kI.required],mobile:["",s.kI.required],address:["",s.kI.required],LocationUrl:[""]})}ngOnInit(){}ngAfterViewInit(){this.deliveryDataForm=this.fb.group({name:["",s.kI.required],email:["",s.kI.required],mobile:["",s.kI.required],address:["",s.kI.required],LocationUrl:[""]}),this.showAddressForm=!1,this.adminService.getCustomerAddress({}).subscribe(n=>{this.addressList=n.data||[]},n=>{this.addressList=[]})}dismiss(){this.modalCtrl.dismiss()}saveDetails(){this.deliveryDataForm.valid?this.adminService.addCustomerAddress(this.deliveryDataForm.value).subscribe(n=>{n.success?this.ngAfterViewInit():this.openAlert("ERROR","something went wrong please try again",["close"])},n=>{this.openAlert("ERROR","something went wrong please try again",["close"])}):this.openAlert("Warning","please fill all mandatory fields image",["close"])}openAlert(n,r,l){var c=this;return(0,u.Z)(function*(){yield(yield c.alertController.create({header:n,message:r,buttons:l,mode:"ios"})).present()})()}makeDefaultAddresses(n){this.adminService.setDefaultAddress({_id:n}).subscribe(r=>{r.success?this.addressList=r.data||[]:this.openAlert("ERROR","something went wrong please try again",["close"])},r=>{this.openAlert("ERROR","something went wrong please try again",["close"])})}deleteAddress(n){this.adminService.deleteAddress({_id:n}).subscribe(r=>{r.success?this.addressList=r.data||[]:this.openAlert("ERROR","something went wrong please try again",["close"])},r=>{this.openAlert("ERROR","something went wrong please try again",["close"])})}selectAddress(n){console.log(n),this.modalCtrl.dismiss(n)}}return(o=_).\u0275fac=function(n){return new(n||o)(e.Y36(s.qu),e.Y36(h.IN),e.Y36(m.l),e.Y36(h.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-customer-address-list"]],decls:4,vars:4,consts:[[4,"ngIf"],["slot","end"],["name","close-circle-outline",2,"font-size","25px","color","#777",3,"click"],["lines","none",3,"click"],["name","add",2,"color","white"],["lines","none","style","padding: 16px; padding-right: 0px",3,"click",4,"ngFor","ngForOf"],["lines","none",2,"padding","16px","padding-right","0px",3,"click"],[1,"address-card"],[2,"justify-content","start","display","flex","align-items","center"],["slot","start"],["name","location-outline",2,"padding-right","10px"],[3,"click",4,"ngIf"],["class","delete-icon","name","trash-outline",3,"click",4,"ngIf"],[3,"click"],["name","trash-outline",1,"delete-icon",3,"click"],[2,"padding","15px",3,"formGroup"],[1,"input_selection",2,"margin-top","15px"],["position","stacked"],["formControlName","name","placeholder","Enter Name"],[1,"input_selection"],["formControlName","email","aria-label","Email","placeholder","Enter Email"],["formControlName","mobile","aria-label","Mobile","placeholder","Enter Mobile"],["formControlName","address","aria-label","Location","placeholder","Enter Address"],["formControlName","LocationUrl","aria-label","Location","placeholder","Location URL"],[1,"kd_flex","kd_flex_col_center","kd_no_padding"],["expand","full","shape","round",2,"width","100%","margin","0px",3,"click"]],template:function(n,r){1&n&&e.YNc(0,p,6,0,"ion-header",0)(1,g,6,1,"ion-content",0)(2,U,6,0,"ion-header",0)(3,A,31,1,"ion-content",0),2&n&&(e.Q6J("ngIf",!r.showAddressForm),e.xp6(1),e.Q6J("ngIf",!r.showAddressForm),e.xp6(1),e.Q6J("ngIf",r.showAddressForm),e.xp6(1),e.Q6J("ngIf",r.showAddressForm))},dependencies:[f.sg,f.O5,d.BJ,d.YG,d.Sm,d.PM,d.wI,d.W2,d.Gu,d.gu,d.pK,d.Ie,d.Q$,d.q_,d.Nd,d.wd,d.sr,d.j9,s._Y,s.JJ,s.JL,s.sg,s.u],styles:[".address-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:15px;padding:15px;box-shadow:0 4px 8px #0000001a;background-color:#fff;width:100%;display:flex;align-items:center;justify-content:space-between}.input_selection[_ngcontent-%COMP%]{border:solid 2px black;border-radius:8px;height:70px;margin:25px 0;padding:10px;box-shadow:none}ion-label[_ngcontent-%COMP%]{font-size:16px!important}ion-item[_ngcontent-%COMP%]{--border-style: none}.address-card[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.address-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.address-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3880ff;cursor:pointer}.address-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:40px;width:40px}.delete-icon[_ngcontent-%COMP%]{color:red;padding-left:10px}.add-address-icon[_ngcontent-%COMP%]{color:#3880ff}ion-button[_ngcontent-%COMP%]{margin:20px;width:180px;color:#fff}"]}),_})()},5565:(v,O,a)=>{a.d(O,{l:()=>f});var u=a(5861),s=a(553),e=a(5678),h=a(2436),d=a(9862),m=a(4414);let f=(()=>{var p;class C{constructor(t,g,U,A){this.route=t,this.http=g,this.alertController=U,this.loadingController=A}getUsersCount(t){return this.http.post(s.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(s.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(s.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(s.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(s.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(s.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(s.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(s.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(s.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(s.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(s.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(s.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(s.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(s.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(s.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(s.N.baseUrl+"/maker/changeOrderStatus",t)}toggleMakerStatus(t){return this.http.post(s.N.baseUrl+"/maker/toggleMakerStatus",t)}updateCustomerDetails(t){return this.http.post(s.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(s.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(s.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(s.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(s.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(s.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(s.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(s.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(s.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(s.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(s.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(s.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(s.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(s.N.baseUrl+"/customer/placeOrder",t)}createOrderInRazorPay(t){return this.http.post(s.N.baseUrl+"/customer/createOrderInRazorPay",t)}payWithRazorpay(t,g,U){var A=this;return(0,u.Z)(function*(){return new Promise(function(){var b=(0,u.Z)(function*(o,_){const i={key:s.N.razorpayKey,amount:100*g,currency:"INR",name:"Vdream Innovations (OPC) private limited",description:"Vdream Innovations",order_id:t,handler:(r=(0,u.Z)(function*(l){try{let x={...yield A.verifyPayment({verify:l}),...l};console.log({obj:x}),o(x)}catch(c){console.log({error:c}),_(c)}}),function(c){return r.apply(this,arguments)}),prefill:{name:"test",email:"test",contact:"test"},theme:{color:"#3399cc"},modal:{ondismiss:()=>{_({message:"Your payment has been cancelled."})}},retry:{enabled:!1}},n=new Razorpay(i);var r;yield n.on("payment.failed",function(){var r=(0,u.Z)(function*(l){let c=l.error||l||{};c.message=c.message||c.description,n.close(),console.log("closed"),_(c)});return function(l){return r.apply(this,arguments)}}()),yield n.open()});return function(o,_){return b.apply(this,arguments)}}())})()}verifyPayment(t){return this.http.post(s.N.baseUrl+"/customer/verifyPaymentDetails",t)}savePaymentFailedDetails(t){return this.http.post(s.N.baseUrl+"/customer/savePaymentFailedDetails",t)}presentDeleteConfirmation(t,g,U){var A=this;return(0,u.Z)(function*(){return new Promise(function(){var b=(0,u.Z)(function*(o){yield(yield A.alertController.create({header:t,message:g,cssClass:U,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{o(!1)}},{text:"OK",cssClass:"primary",handler:()=>{o(!0)}}]})).present()});return function(o){return b.apply(this,arguments)}}())})()}presentLoading(){var t=this;return(0,u.Z)(function*(){const g=yield t.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield g.present(),g})()}}return(p=C).\u0275fac=function(t){return new(t||p)(e.LFG(h.F0),e.LFG(d.eN),e.LFG(m.Br),e.LFG(m.HT))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),C})()},3609:(v,O,a)=>{a.d(O,{m:()=>d});var u=a(9004),s=a(95),e=a(6814),h=a(5678);let d=(()=>{var m;class f{}return(m=f).\u0275fac=function(C){return new(C||m)},m.\u0275mod=h.oAB({type:m}),m.\u0275inj=h.cJS({imports:[e.ez,u.Pc,s.u5,s.UX,e.ez,u.Pc,s.u5,s.UX]}),f})()}}]);