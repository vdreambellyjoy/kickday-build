"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2138],{2138:(P,m,l)=>{l.r(m),l.d(m,{CustomerListingsPageModule:()=>I});var h=l(3609),n=l(2436),_=l(5861),f=l(8650),e=l(5678),u=l(4414),c=l(9004),p=l(5565),v=l(185),y=l(6814),t=l(9172);const x=["swiper"];function T(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"ion-button",14),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.goToLogin())}),e._uU(1,"Login"),e.qZA()}}function U(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"ion-icon",15),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.openSearchModel())}),e.qZA()}}function L(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"ion-icon",16),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.openSearchModel())}),e.qZA()}}function C(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"ion-icon",17),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.clearFilter())}),e.qZA()}}function w(r,g){if(1&r&&(e.TgZ(0,"swiper-slide"),e._UZ(1,"img",36),e.ALo(2,"async"),e.ALo(3,"getLogo"),e.qZA()),2&r){const o=g.$implicit;e.xp6(1),e.Q6J("src",e.lcZ(2,1,e.lcZ(3,3,o)),e.LSH)}}function Z(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const a=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.goToListingOverview(a))}),e.TgZ(1,"swiper-container",22,23),e.NdJ("afterinit",function(){e.CHM(o);const s=e.oxw(2);return e.KtG(s.swiperReady())})("slidechange",function(s){e.CHM(o);const a=e.oxw(2);return e.KtG(a.swiperSlideChanged(s))}),e.YNc(3,w,4,5,"swiper-slide",24),e.TgZ(4,"swiper-slide")(5,"iframe",25),e.NdJ("press",function(s){e.CHM(o);const a=e.oxw(2);return e.KtG(a.handlePress(s))}),e.qZA()()(),e.TgZ(6,"ion-row",26)(7,"ion-col",27)(8,"div",28)(9,"ion-text",29),e._uU(10),e.qZA()(),e.TgZ(11,"ion-text",30)(12,"span",29),e._uU(13,"Maker"),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"span",31),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span",31),e._uU(19),e.qZA()()(),e.TgZ(20,"ion-col",32)(21,"div")(22,"ion-text",29),e._uU(23,"Order Ends on"),e.qZA(),e.TgZ(24,"div",33),e._UZ(25,"ion-icon",34),e.TgZ(26,"ion-text",35),e._uU(27),e.ALo(28,"date"),e.qZA()()()()()()}if(2&r){const o=g.$implicit;e.xp6(1),e.Q6J("loop",!0)("pagination",!0)("slidesPerView",1)("slidesPerGroup",1),e.xp6(2),e.Q6J("ngForOf",o.imageArray),e.xp6(7),e.Oqu(null==o||null==o.makerData||null==o.makerData.userName?null:o.makerData.userName.charAt(0)),e.xp6(6),e.Oqu(o.makerData.userName),e.xp6(3),e.Oqu(o.makerData.address),e.xp6(8),e.Oqu(e.xi3(28,9,o.orderEndsOn,"dd MMMM EEE hh:mm a"))}}function b(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"ion-content",18)(1,"ion-refresher",19),e.NdJ("ionRefresh",function(s){e.CHM(o);const a=e.oxw();return e.KtG(a.handleRefresh(s))}),e._UZ(2,"ion-refresher-content"),e.qZA(),e.YNc(3,Z,29,12,"div",20),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngForOf",o.filteredItems)}}function M(r,g){1&r&&(e.TgZ(0,"ion-content")(1,"div",37)(2,"ion-text",38),e._uU(3,"We've just launched and are building our community. If you don't see any food delights listed yet or if you have any suggestions, please WhatsApp us at "),e.TgZ(4,"a",39),e._uU(5,"9652177277"),e.qZA(),e._uU(6,"."),e.qZA(),e._UZ(7,"img",40),e.qZA()())}function k(r,g){if(1&r){const o=e.EpF();e.TgZ(0,"ion-footer",41)(1,"ion-card",42)(2,"ion-row")(3,"ion-col",43),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.goToOrders())}),e._UZ(4,"ion-ripple-effect",44)(5,"ion-icon",45),e.TgZ(6,"ion-text",46),e._uU(7,"Orders"),e.qZA()(),e.TgZ(8,"ion-col",47),e._UZ(9,"ion-ripple-effect",44)(10,"ion-icon",48),e.TgZ(11,"ion-text",46),e._uU(12,"Listings"),e.qZA()(),e.TgZ(13,"ion-col",43),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.goToProfile())}),e._UZ(14,"ion-ripple-effect",44)(15,"ion-icon",49),e.TgZ(16,"ion-text",46),e._uU(17,"Profile"),e.qZA()()()()()}}const O=[{path:"",component:(()=>{var r;class g{constructor(i,s,a,d,A){this.router=i,this.model=s,this.alert=a,this.adminService=d,this.authService=A,this.selectedSegment="All",this.filteredItems=[],this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.showMenu=!1}ngOnInit(){}ionViewWillEnter(){if(this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(i=>{this.listings=i.data||[],this.filteredItems=this.listings},i=>{console.log(i)}),localStorage.getItem("token")&&localStorage.getItem("userData")){let i=localStorage.getItem("token"),s=JSON.parse(i);this.authService.checkUserToken({token:s}).subscribe(a=>{a.data&&a.success?(localStorage.setItem("userData",JSON.stringify(a.data)),this.showMenu=!0):this.showMenu=!1},a=>{localStorage.clear(),this.showMenu=!1})}else localStorage.clear(),this.showMenu=!1;this.swiperReady()}handlePress(i){i.stopPropagation()}swiperSlideChanged(i){console.log("changed: ",i)}swiperReady(){var i;this.swiper=null===(i=this.swiperRef)||void 0===i?void 0:i.nativeElement.swiper}goNext(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slideNext()}goPrev(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slidePrev()}goToListingOverview(i){this.router.navigateByUrl("/customerListings/"+i._id)}goToOrders(){this.router.navigate(["/orders"])}goToProfile(){this.router.navigate(["/customerProfile"])}goToLogin(){this.router.navigate(["/login"])}onSearch(i){const s=i.target.value.trim().toLowerCase();this.filteredItems=!s||s.length<1?[...this.listings]:this.listings.filter(a=>{const d=a&&a.category?a.category.toLowerCase():"";return console.log(d,"searchhhh"),d.includes(s)})}openSearchModel(){var i=this;return(0,_.Z)(function*(){let s={search:i.filterSearchTerm||"",selectedDeliveryType:i.filterDeliveryType||"",selectedOption:i.filterDeliveryDate||""};const a=yield i.model.create({component:f.Z,componentProps:s});a.present();const{data:d}=yield a.onWillDismiss();d&&(i.filterSearchTerm=d.searchTerm,i.filterDeliveryType=d.deliveryType,i.filterDeliveryDate=d.deliveryDate,i.adminService.getAllListingsForCustomer({search:i.filterSearchTerm||"",deliveryType:i.filterDeliveryType||"",deliveryDate:i.filterDeliveryDate||""}).subscribe(D=>{i.listings=D.data||[],i.filteredItems=i.listings},D=>{console.log(D)}))})()}clearFilter(){this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(i=>{this.listings=i.data||[],this.filteredItems=this.listings},i=>{console.log(i)})}handleRefresh(i){this.ionViewWillEnter(),setTimeout(()=>{i.target.complete()},500)}}return(r=g).\u0275fac=function(i){return new(i||r)(e.Y36(n.F0),e.Y36(u.IN),e.Y36(u.Br),e.Y36(p.l),e.Y36(v.u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-customer-listings"]],viewQuery:function(i,s){if(1&i&&e.Gf(x,5),2&i){let a;e.iGM(a=e.CRH())&&(s.swiperRef=a.first)}},decls:15,vars:8,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","22px 15px"],["size","9",2,"display","flex","justify-content","start","align-items","center"],["src","../../../assets/icons/Kickday-logo-removebg-preview.png","alt","",2,"position","absolute","height","120px","width","120px"],["size","3",1,"kd_flex","kd_end_align"],["style","margin: 0px; min-height: 30px",3,"click",4,"ngIf"],[2,"display","flex","align-items","center"],["placeholder","Search by Category",1,"searchbar-custom",2,"padding","20px",3,"keyup"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;",3,"click",4,"ngIf"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;color:blue",3,"click",4,"ngIf"],["name","rocket-outline","style","padding-right: 20px;color:blue;font-size: 30px;",3,"click",4,"ngIf"],[3,"fullscreen",4,"ngIf"],[4,"ngIf"],["style","bottom: 0px; position: absolute",4,"ngIf"],[2,"margin","0px","min-height","30px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px","color","blue",3,"click"],["name","rocket-outline",2,"padding-right","20px","color","blue","font-size","30px",3,"click"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["style","border: solid 1px lightgray; border-radius: 14px; margin: 20px",3,"click",4,"ngFor","ngForOf"],[2,"border","solid 1px lightgray","border-radius","14px","margin","20px",3,"click"],[2,"height","240px",3,"loop","pagination","slidesPerView","slidesPerGroup","afterinit","slidechange"],["swiper",""],[4,"ngFor","ngForOf"],["width","100%","height","100%","src","https://www.youtube.com/embed/7Y5q41D8_hs","frameborder","0","allowfullscreen","",3,"press"],[2,"padding","10px"],[1,"kd_flex"],[1,"first_letter_styles"],[2,"font-weight","bold"],[2,"padding-left","10px"],[1,"kd_font_size_14"],[1,"kd_flex","kd_end_align"],[1,"kd_flex",2,"padding-top","5px"],["name","calendar-outline",1,"icon_style",2,"height","20px","width","20px"],[2,"font-size","14px !important"],[3,"src"],[2,"height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"padding","0px 10px","text-align","center","z-index","10"],["href","tel:9652177277"],["src","../../../assets/Untitled design.svg",2,"height","500px","width","500px"],[2,"bottom","0px","position","absolute"],[2,"margin","0px","border-radius","0px","padding","10px"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent",3,"click"],[1,"ripple_background"],["name","bag-handle-outline",1,"footer_icon_styles"],[1,"icon-text_styles"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent"],["name","list-circle-outline",1,"footer_icon_styles"],["name","person-circle-outline",1,"footer_icon_styles"]],template:function(i,s){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"ion-col",4),e.YNc(6,T,2,0,"ion-button",5),e.qZA()(),e.TgZ(7,"div",6)(8,"ion-searchbar",7),e.NdJ("keyup",function(d){return s.onSearch(d)}),e.qZA(),e.YNc(9,U,1,0,"ion-icon",8)(10,L,1,0,"ion-icon",9)(11,C,1,0,"ion-icon",10),e.qZA()()(),e.YNc(12,b,4,2,"ion-content",11)(13,M,8,0,"ion-content",12)(14,k,18,0,"ion-footer",13)),2&i&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",!s.showMenu),e.xp6(3),e.Q6J("ngIf",!s.filterSearchTerm&&!s.filterDeliveryType&&!s.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",s.filterSearchTerm||s.filterDeliveryType||s.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",s.filterSearchTerm||s.filterDeliveryType||s.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",null==s.filteredItems?null:s.filteredItems.length),e.xp6(1),e.Q6J("ngIf",!(null!=s.filteredItems&&s.filteredItems.length)),e.xp6(1),e.Q6J("ngIf",s.showMenu))},dependencies:[y.sg,y.O5,c.YG,c.PM,c.wI,c.W2,c.fr,c.Gu,c.gu,c.nJ,c.Wo,c.H$,c.Nd,c.VI,c.yW,c.sr,c.j9,t.n,y.Ov,y.uU],styles:["ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}swiper-container[_ngcontent-%COMP%]{--swiper-pagination-bullet-inactive-color: var(--ion-color-step-500, white);--swiper-theme-color: #0aa26d}"]}),g})()}];let N=(()=>{var r;class g{}return(r=g).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[n.Bz.forChild(O),n.Bz]}),g})(),I=(()=>{var r;class g{}return(r=g).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.m,N]}),g})()},5565:(P,m,l)=>{l.d(m,{l:()=>c});var h=l(5861),n=l(553),_=l(5678),f=l(2436),e=l(9862),u=l(4414);let c=(()=>{var p;class v{constructor(t,x,T){this.route=t,this.http=x,this.alertController=T}getUsersCount(t){return this.http.post(n.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(n.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(n.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(n.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(n.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(n.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(n.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(n.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(n.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(n.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(n.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(n.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(n.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(n.N.baseUrl+"/maker/changeOrderStatus",t)}updateCustomerDetails(t){return this.http.post(n.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(n.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(n.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(n.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(n.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(n.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(n.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(n.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(n.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(n.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(n.N.baseUrl+"/customer/placeOrder",t)}presentDeleteConfirmation(t,x,T){var U=this;return(0,h.Z)(function*(){return new Promise(function(){var L=(0,h.Z)(function*(C){yield(yield U.alertController.create({header:t,message:x,cssClass:T,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{C(!1)}},{text:"OK",cssClass:"primary",handler:()=>{C(!0)}}]})).present()});return function(C){return L.apply(this,arguments)}}())})()}}return(p=v).\u0275fac=function(t){return new(t||p)(_.LFG(f.F0),_.LFG(e.eN),_.LFG(u.Br))},p.\u0275prov=_.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),v})()},3609:(P,m,l)=>{l.d(m,{m:()=>e});var h=l(9004),n=l(95),_=l(6814),f=l(5678);let e=(()=>{var u;class c{}return(u=c).\u0275fac=function(v){return new(v||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[_.ez,h.Pc,n.u5,n.UX,_.ez,h.Pc,n.u5,n.UX]}),c})()}}]);