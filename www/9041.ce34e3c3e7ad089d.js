"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9041],{9041:(A,_,a)=>{a.r(_),a.d(_,{OrdersOverviewPageModule:()=>Z});var u=a(6814),n=a(95),l=a(9004),p=a(2436),e=a(5678),x=a(5565),U=a(6593);function c(o,d){if(1&o&&(e.TgZ(0,"ion-row",21)(1,"ion-col",44)(2,"ion-text",26),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",24)(5,"ion-text",45),e._uU(6),e._UZ(7,"ion-icon",46),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col",47)(10,"ion-text",48),e._uU(11),e.qZA()()()),2&o){const i=d.$implicit;e.xp6(3),e.Oqu(i.name),e.xp6(3),e.hij("\u20b9 ",i.price," "),e.xp6(2),e.hij(" ",i.count,""),e.xp6(3),e.hij(" = $",i.individualItemCost,"")}}function m(o,d){1&o&&(e.TgZ(0,"ion-text",49),e._uU(1,"Delivery Location"),e.qZA())}function f(o,d){1&o&&(e.TgZ(0,"ion-text",49),e._uU(1,"Pickup Location"),e.qZA())}function t(o,d){if(1&o){const i=e.EpF();e.TgZ(0,"ion-content",7)(1,"div",8)(2,"ion-row")(3,"ion-col")(4,"ion-text"),e._uU(5),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"ion-text",9),e._uU(8),e.qZA()()(),e.TgZ(9,"ion-row",10)(10,"ion-col",11)(11,"div",12)(12,"ion-text",13),e._uU(13,"R"),e.qZA()(),e.TgZ(14,"ion-text",14)(15,"span",13),e._uU(16,"Maker"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span"),e._uU(19),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"span"),e._uU(22),e.qZA()()(),e.TgZ(23,"ion-col",15),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.callNumber(s.orderData.makerData.mobileNumber))}),e._UZ(24,"ion-icon",16),e.qZA()(),e.TgZ(25,"ion-row")(26,"ion-col",17)(27,"ion-text",13),e._uU(28),e.qZA()()(),e.TgZ(29,"ion-row")(30,"ion-col",18)(31,"div",19),e.YNc(32,c,12,4,"ion-row",20),e.TgZ(33,"ion-row",21)(34,"ion-col",22)(35,"ion-text",23),e._uU(36),e.qZA()(),e.TgZ(37,"ion-col",24)(38,"ion-text",25),e._uU(39),e.qZA()()(),e.TgZ(40,"ion-row",21)(41,"ion-col",22)(42,"ion-text",23),e._uU(43,"GST"),e.qZA()(),e.TgZ(44,"ion-col",24)(45,"ion-text",25),e._uU(46,"$0"),e.qZA()()(),e.TgZ(47,"ion-row",21)(48,"ion-col",22)(49,"ion-text",26),e._uU(50,"Total"),e.qZA()(),e.TgZ(51,"ion-col",24)(52,"ion-text",26),e._uU(53),e.qZA()()()()()(),e.TgZ(54,"ion-row")(55,"ion-col",27),e._UZ(56,"ion-textarea",28),e.qZA()(),e.TgZ(57,"ion-row")(58,"ion-col")(59,"ion-text",29),e._uU(60,"Delivery Details"),e.qZA()()(),e.TgZ(61,"ion-row",10)(62,"ion-col")(63,"div",30),e._UZ(64,"ion-icon",31),e.TgZ(65,"ion-text",32),e._uU(66,"Delivery Address"),e.qZA()()()(),e.TgZ(67,"ion-row")(68,"ion-col")(69,"ion-text",33),e._uU(70),e._UZ(71,"br"),e._uU(72),e._UZ(73,"br"),e._uU(74),e._UZ(75,"br")(76,"br")(77,"ion-text",34),e.qZA()()(),e.TgZ(78,"ion-row",35)(79,"ion-col")(80,"div",36),e._UZ(81,"ion-icon",37),e.YNc(82,m,2,0,"ion-text",38)(83,f,2,0,"ion-text",38),e.qZA(),e.TgZ(84,"ion-text")(85,"a",39),e._uU(86),e.qZA()()()(),e.TgZ(87,"ion-row")(88,"ion-col",40),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.redirectToGoogleMaps())}),e._UZ(89,"ion-icon",41),e.TgZ(90,"ion-text",42),e._uU(91,"Track Delivery"),e.qZA(),e._UZ(92,"img",43),e.qZA()()()()}if(2&o){const i=e.oxw();e.Q6J("fullscreen",!0),e.xp6(5),e.hij("Order ",i.orderData.ID,""),e.xp6(3),e.hij("Placed on: ",i.formatTimestamp(i.orderData.timeStamp),""),e.xp6(11),e.Oqu(i.orderData.makerData.userName),e.xp6(3),e.Oqu(i.orderData.makerData.address),e.xp6(6),e.Oqu(i.orderData.listingData.label),e.xp6(4),e.Q6J("ngForOf",null==i.orderData?null:i.orderData.orderedItems),e.xp6(4),e.hij("Delivery (",i.orderData.deliveryOption.type,")"),e.xp6(3),e.Oqu(i.orderData.deliveryOption.price),e.xp6(14),e.hij("$",i.orderData.totalPrice,""),e.xp6(17),e.hij(" ",i.orderData.deliveryAddress.name," "),e.xp6(2),e.hij(" ",i.orderData.deliveryAddress.email," "),e.xp6(2),e.hij(" ",i.orderData.deliveryAddress.mobile," "),e.xp6(3),e.Q6J("innerHTML",i.getSanitizedLocationUrl(),e.oJD),e.xp6(5),e.Q6J("ngIf","Pickup Available"!=i.orderData.deliveryOption.type),e.xp6(1),e.Q6J("ngIf","Pickup Available"==i.orderData.deliveryOption.type),e.xp6(3),e.Oqu(i.orderData.deliveryAddress.LocationUrl)}}const g=[{path:"",component:(()=>{var o;class d{constructor(r,s,v){this.router=r,this.adminService=s,this.sanitizer=v,this.orderData={}}ngOnInit(){}ionViewWillEnter(){this._id=this.router.url.split("/")[2],this.adminService.getCustomerOrders({_id:this._id}).subscribe(r=>{r.success&&r.data&&(this.orderData=r.data[0])},r=>{console.log(r)})}navigateToOrders(){this.router.navigate(["/orders"])}formatTimestamp(r){const s=new Date(r);return`${s.getDate()} ${s.toLocaleString("en-US",{month:"short"})} ${s.toLocaleString("en-US",{weekday:"short"})} ${s.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`}callNumber(r){window.open(`tel:${r}`,"_system")}getSanitizedLocationUrl(){var r;let s=(null===(r=this.orderData)||void 0===r||null===(r=r.deliveryAddress)||void 0===r?void 0:r.LocationUrl)||"";return!s&&this.orderData&&this.orderData.deliveryAddress&&(s=this.orderData.deliveryAddress.LocationUrl||""),this.sanitizer.bypassSecurityTrustHtml(s.replace(/,/g,",<br>"))}redirectToGoogleMaps(){var r,s;null!==(r=this.orderData)&&void 0!==r&&null!==(r=r.deliveryAddress)&&void 0!==r&&r.LocationUrl&&window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(null===(s=this.orderData)||void 0===s||null===(s=s.deliveryAddress)||void 0===s?void 0:s.LocationUrl)}`,"_blank")}}return(o=d).\u0275fac=function(r){return new(r||o)(e.Y36(p.F0),e.Y36(x.l),e.Y36(U.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-orders-overview"]],decls:9,vars:2,consts:[[2,"box-shadow","none","padding","10px 20px","background","white",3,"translucent"],[1,"kd_center_align_items"],["name","bag-handle-outline",1,"kd_svg_size","padd_left"],[1,"kd_main_heading",2,"padding-left","15px"],[1,"kd_flex","kd_end_align",3,"click"],["name","close-outline",1,"kd_svg_size"],[3,"fullscreen",4,"ngIf"],[3,"fullscreen"],[2,"margin","15px"],[2,"font-size","12px"],[2,"margin-top","15px"],["size","10",1,"kd_col_center_align"],[1,"first_letter_styles"],[2,"font-weight","bold"],[2,"padding-left","20px","font-size","13px"],["size","2",1,"kd_flex","kd_end_align",3,"click"],["name","call-outline",1,"kd_svg_size"],[2,"margin-top","10px"],[1,"kd_flex_row_center",2,"margin","5px 0px"],[2,"border","solid 2px","border-radius","14px","padding","10px","background-color","#f7f7f7"],["class","kd_flex kd_center_align",4,"ngFor","ngForOf"],[1,"kd_flex","kd_center_align"],["size","8"],[2,"font-size","14px","color","#777"],["size","4",1,"kd_flex","kd_end_align"],[2,"font-size","14px","color","#555"],[2,"font-size","16px","font-weight","bold"],[2,"padding-top","10px"],["placeholder","Note",1,"custom-textarea"],[2,"font-weight","bold","font-size","20px"],[1,"kd_flex"],["name","home-outline",1,"icon_style"],[2,"font-weight","bold","font-size","18px"],[2,"font-size","14px"],[2,"font-size","14px",3,"innerHTML"],[2,"margin","15px 0px"],[1,"kd_flex",2,"padding-bottom","5px"],["name","location-outline",1,"icon_style"],["style","font-size: 18px; font-weight: bold;",4,"ngIf"],["href","orderData.deliveryAddress.LocationUrl",2,"color","#007bff","text-decoration","none"],[1,"kd_center_align_items",2,"cursor","pointer",3,"click"],["name","navigate-circle-outline",2,"height","25px","width","25px"],[2,"padding","0px 10px"],["src","../../assets/right_arrow.png","alt","",2,"height","25px","width","25px"],["size"," 8"],[1,"kd_flex",2,"font-size","14px","color","black","font-weight","bold"],["name","close-outline",1,"icon_style",2,"padding-right","5px","padding-left","5px"],[1,"kd_flex","kd_end_align","ion-no-padding",2,"padding-right","5px"],[2,"font-weight","bold","font-size","14px"],[2,"font-size","18px","font-weight","bold"]],template:function(r,s){1&r&&(e.TgZ(0,"ion-header",0)(1,"ion-row")(2,"ion-col",1),e._UZ(3,"ion-icon",2),e.TgZ(4,"ion-text",3),e._uU(5,"Order Taken"),e.qZA()(),e.TgZ(6,"ion-col",4),e.NdJ("click",function(){return s.navigateToOrders()}),e._UZ(7,"ion-icon",5),e.qZA()()(),e.YNc(8,t,93,17,"ion-content",6)),2&r&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("ngIf",null==s.orderData?null:s.orderData._id))},dependencies:[u.sg,u.O5,l.wI,l.W2,l.Gu,l.gu,l.Nd,l.yW,l.g2,l.j9],styles:["ion-textarea.custom-textarea[_ngcontent-%COMP%]{--color: black;padding:10px;border-radius:14px;--placeholder-color: black;--placeholder-opacity: .8;border:black;border-style:solid;border-width:1px}"]}),d})()}];let O=(()=>{var o;class d{}return(o=d).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(g),p.Bz]}),d})(),Z=(()=>{var o;class d{}return(o=d).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,n.u5,l.Pc,O]}),d})()},5565:(A,_,a)=>{a.d(_,{l:()=>U});var u=a(5861),n=a(553),l=a(5678),p=a(2436),e=a(9862),x=a(4414);let U=(()=>{var c;class m{constructor(t,h,g){this.route=t,this.http=h,this.alertController=g}getUsersCount(t){return this.http.post(n.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(n.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(n.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(n.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(n.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(n.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(n.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(n.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(n.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(n.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(n.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(n.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(n.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(n.N.baseUrl+"/maker/changeOrderStatus",t)}updateCustomerDetails(t){return this.http.post(n.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(n.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(n.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(n.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(n.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(n.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(n.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(n.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(n.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(n.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(n.N.baseUrl+"/customer/placeOrder",t)}presentDeleteConfirmation(t,h,g){var O=this;return(0,u.Z)(function*(){return new Promise(function(){var Z=(0,u.Z)(function*(o){yield(yield O.alertController.create({header:t,message:h,cssClass:g,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{o(!1)}},{text:"OK",cssClass:"primary",handler:()=>{o(!0)}}]})).present()});return function(o){return Z.apply(this,arguments)}}())})()}}return(c=m).\u0275fac=function(t){return new(t||c)(l.LFG(p.F0),l.LFG(e.eN),l.LFG(x.Br))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),m})()}}]);