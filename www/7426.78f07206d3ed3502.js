"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7426],{7426:(J,Z,c)=>{c.r(Z),c.d(Z,{ProfilePageModule:()=>_});var l=c(95),o=c(3609),p=c(2436),f=c(5861),e=c(5678),g=c(6814),y=c(6593),b=c(5565),I=c(185),u=c(9004);const a=["segment"];function v(s,d){if(1&s&&e._UZ(0,"img",32),2&s){const r=e.oxw(2);let i;e.Q6J("src",null==(i=r.userDataForm.get("image"))?null:i.value,e.LSH)}}function M(s,d){if(1&s){const r=e.EpF();e.TgZ(0,"label",33)(1,"input",34),e.NdJ("change",function(t){e.CHM(r);const n=e.oxw(2);return e.KtG(n.onFileSelected(t))}),e.qZA(),e._uU(2," Choose Photo* "),e.qZA()}}function C(s,d){if(1&s){const r=e.EpF();e.TgZ(0,"label",35)(1,"input",34),e.NdJ("change",function(t){e.CHM(r);const n=e.oxw(2);return e.KtG(n.onFileSelected(t))}),e.qZA(),e._uU(2," Change Photo "),e.qZA()}}function A(s,d){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"ion-row",15)(2,"ion-col")(3,"div",16)(4,"div",17),e.YNc(5,v,1,1,"img",18)(6,M,3,0,"label",19),e.qZA(),e.YNc(7,C,3,0,"label",20),e.qZA()()(),e.TgZ(8,"form",21)(9,"div")(10,"ion-card",22)(11,"ion-item")(12,"ion-label",23),e._uU(13,"Name*"),e.qZA(),e._UZ(14,"ion-input",24),e.qZA()(),e.TgZ(15,"ion-card",22)(16,"ion-item")(17,"ion-label",23),e._uU(18,"Email*"),e.qZA(),e._UZ(19,"ion-input",25),e.qZA()(),e.TgZ(20,"ion-card",22)(21,"ion-item")(22,"ion-label",23),e._uU(23,"Mobile*"),e.qZA(),e._UZ(24,"ion-input",26),e.qZA()(),e.TgZ(25,"ion-card",22)(26,"ion-item")(27,"ion-label",23),e._uU(28,"PIN*"),e.qZA(),e._UZ(29,"ion-input",27),e.qZA()(),e.TgZ(30,"ion-card",22)(31,"ion-item")(32,"ion-label",23),e._uU(33,"Location*"),e.qZA(),e._UZ(34,"ion-input",28),e.qZA()(),e.TgZ(35,"ion-card",29)(36,"ion-item")(37,"ion-label",23),e._uU(38,"Bio*"),e.qZA(),e._UZ(39,"ion-textarea",30),e.qZA()()()(),e.TgZ(40,"ion-button",31),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.saveProfile())}),e._uU(41,"Save"),e.qZA()()}if(2&s){const r=e.oxw();let i,t,n;e.xp6(5),e.Q6J("ngIf",null==r.userDataForm||null==(i=r.userDataForm.get("image"))?null:i.value),e.xp6(1),e.Q6J("ngIf",!(null!=(t=r.userDataForm.get("image"))&&t.value)),e.xp6(1),e.Q6J("ngIf",null==(n=r.userDataForm.get("image"))?null:n.value),e.xp6(1),e.Q6J("formGroup",r.userDataForm),e.xp6(16),e.Q6J("disabled","maker"==(null==r.userData?null:r.userData.role)),e.xp6(5),e.Q6J("disabled","maker"!=(null==r.userData?null:r.userData.role))}}function D(s,d){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"ion-icon",46),e.NdJ("click",function(){const n=e.CHM(r).index,m=e.oxw(2);return e.KtG(m.removeImage(n))}),e.qZA(),e._UZ(3,"img",47),e.qZA(),e.BQk()}if(2&s){const r=d.$implicit,i=d.index;e.xp6(3),e.MGl("alt","Selected image ",i+1,""),e.Q6J("src",r.image,e.LSH)}}function U(s,d){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"ion-row")(2,"ion-col",36)(3,"div",37),e.NdJ("click",function(){e.CHM(r);const t=e.MAs(5);return e.KtG(t.click())}),e.TgZ(4,"input",38,39),e.NdJ("change",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.addMediaImages(t))}),e.qZA(),e._UZ(6,"ion-ripple-effect",40)(7,"ion-icon",41),e.TgZ(8,"ion-text",42),e._uU(9,"Add Image"),e.qZA()(),e.TgZ(10,"div",43),e.YNc(11,D,4,2,"ng-container",44),e.qZA()()(),e.TgZ(12,"ion-button",31),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.saveMedia())}),e._uU(13,"Save"),e.qZA()()}if(2&s){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.mediaImages)}}function S(s,d){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"form",21)(2,"div")(3,"ion-card",48)(4,"ion-item")(5,"ion-label",23),e._uU(6,"Comission*"),e.qZA(),e._UZ(7,"ion-input",49),e.qZA()(),e.TgZ(8,"ion-card",22)(9,"ion-item")(10,"ion-label",23),e._uU(11,"Account Name*"),e.qZA(),e._UZ(12,"ion-input",50),e.qZA()(),e.TgZ(13,"ion-card",22)(14,"ion-item")(15,"ion-label",23),e._uU(16,"Account Number*"),e.qZA(),e._UZ(17,"ion-input",51),e.qZA()(),e.TgZ(18,"ion-row")(19,"ion-col")(20,"ion-button",52),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.setAccountType("savings"))}),e._uU(21,"Savings"),e.qZA()(),e.TgZ(22,"ion-col")(23,"ion-button",52),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.setAccountType("current"))}),e._uU(24,"Current"),e.qZA()()(),e.TgZ(25,"ion-card",22)(26,"ion-item")(27,"ion-label",23),e._uU(28,"Bank Name*"),e.qZA(),e._UZ(29,"ion-input",53),e.qZA()(),e.TgZ(30,"ion-card",22)(31,"ion-item")(32,"ion-label",23),e._uU(33,"Branch*"),e.qZA(),e._UZ(34,"ion-input",54),e.qZA()(),e.TgZ(35,"ion-card",22)(36,"ion-item")(37,"ion-label",23),e._uU(38,"IFSC Code*"),e.qZA(),e._UZ(39,"ion-input",55),e.qZA()()()(),e.TgZ(40,"ion-button",31),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.submitProfile())}),e._uU(41,"Submit"),e.qZA()()}if(2&s){const r=e.oxw();let i,t;e.xp6(1),e.Q6J("formGroup",r.bankDetailsForm),e.xp6(19),e.Q6J("ngClass","savings"==(null==(i=r.bankDetailsForm.get("accountType"))?null:i.value)?"selected":""),e.xp6(3),e.Q6J("ngClass","current"==(null==(t=r.bankDetailsForm.get("accountType"))?null:t.value)?"selected":"")}}const k=[{path:"",component:(()=>{var s;class d{constructor(i,t,n,m,h,x,O){this.router=i,this.fb=t,this.location=n,this.sanitizer=m,this.adminService=h,this.authService=x,this.activatedroute=O,this.selectedSegment="profile",this.profilePhoto="",this.mediaImages=[],this.userDataForm=this.fb.group({userName:["",l.kI.required],email:["",l.kI.required],mobile:["",l.kI.required],pin:["",l.kI.required],city:["",l.kI.required],bio:"",image:["",l.kI.required],imageName:[""],imageId:""}),this.mediaData=this.fb.group({mediaImages:["",l.kI.required]}),this.bankDetailsForm=this.fb.group({commission:["",l.kI.required],accountName:["",l.kI.required],accountNumber:["",l.kI.required],accountType:["",l.kI.required],bankName:["",l.kI.required],branch:["",l.kI.required],ifscCode:["",l.kI.required]})}ngOnInit(){}ionViewWillEnter(){var i=this;this.bankDetailsForm.reset(),this.userDataForm.reset(),this.mediaImages=[],this.selectedSegment="profile",this.segment.value="profile",this._id=this.router.url.split("/")[2],this._id&&this.adminService.getUserBasedOnId({_id:this._id}).subscribe(function(){var t=(0,f.Z)(function*(n){n.success?(i.userData=n.data||{},i._id=i.userData._id,i.updateMakerForms("")):i.router.navigate(["/adminDashboard"])});return function(n){return t.apply(this,arguments)}}(),t=>{console.log(t)})}setAccountType(i){var t;null===(t=this.bankDetailsForm.get("accountType"))||void 0===t||t.setValue(i)}saveProfile(){var i=this;this.userDataForm.valid&&this.adminService.createMaker({...this.userDataForm.value,_id:this._id}).subscribe(function(){var t=(0,f.Z)(function*(n){n.success&&(i.userData=n.data||{},i._id=i.userData._id,i.updateMakerForms("media"))});return function(n){return t.apply(this,arguments)}}(),t=>{console.log(t)})}saveMedia(){this.adminService.updateKitchenImages({mobileNumber:this.userDataForm.value.mobile,image:this.mediaImages,_id:this._id}).subscribe(i=>{i.success&&(this.userData=i.data||{},this._id=this.userData._id,this.updateMakerForms("bank"))},i=>{console.log(i)})}onFileSelected(i){const n=i.target.files;n&&n.length>0&&this.uploadPhoto(n[0])}uploadPhoto(i){if(i&&this.userDataForm&&this.userDataForm.get("image")){const t=new FileReader;t.onload=n=>{this.userDataForm.patchValue({image:n.target.result,imageName:i.name,imageId:""})},t.readAsDataURL(i)}}addMediaImages(i){const n=i.target.files;n&&n.length>0&&this.addMultipleMediaImages(n)}addMultipleMediaImages(i){for(let t=0;t<i.length;t++){const n=i[t],m=new FileReader;m.onload=h=>{this.mediaImages.push({image:h.target.result,imageName:n.name,imageId:""})},m.readAsDataURL(n)}}submitProfile(){if(this.bankDetailsForm.valid&&this.userDataForm.valid&&this.userData._id){let i={...this.bankDetailsForm.value,...this.userDataForm.value,_id:this.userData._id};this.adminService.updateBankDetails(i).subscribe(t=>{if(t.success){let n=localStorage.getItem("userData");"admin"==JSON.parse(n).role?this.router.navigate(["/allUsers"]):(localStorage.setItem("userData",JSON.stringify(t.data)),this.router.navigate(["/makerDashboard"]))}},t=>{console.log(t)})}}removeImage(i){this.mediaImages.splice(i,1)}updateMakerForms(i=""){var t=this;return(0,f.Z)(function*(){var n,m;let h=yield t.authService.getLogoImageById({fileId:t.userData.profileId}),x="",O=null==h||null===(n=h.data)||void 0===n?void 0:n.name;h.success||(x=""),"svg+xml"==h.data.mimetype&&(x=yield t.sanitizer.bypassSecurityTrustResourceUrl(`data:image/svg+xml;base64,${h.data.data}`)),x=`data:image/jpg;base64,${h.data.data}`,t.userData.image=x,t.userData.imageName=O,t.mediaImages=[],null===(m=t.userData.kitchenImages)||void 0===m||m.map(function(){var q=(0,f.Z)(function*(E){var L;let N=yield t.authService.getLogoImageById({fileId:E}),B=null==N||null===(L=N.data)||void 0===L?void 0:L.name,F="";N.success||(F=""),"svg+xml"==N.data.mimetype&&(F=yield t.sanitizer.bypassSecurityTrustResourceUrl(`data:image/svg+xml;base64,${N.data.data}`)),F=`data:image/jpg;base64,${N.data.data}`,t.mediaImages.push({image:F,imageName:B,imageId:E})});return function(E){return q.apply(this,arguments)}}()),t.userDataForm.patchValue({userName:t.userData.userName,email:t.userData.email,mobile:t.userData.mobileNumber,pin:t.userData.pin,city:t.userData.address,bio:t.userData.bio,image:x,imageName:O,imageId:t.userData.profileId}),t.bankDetailsForm.patchValue({commission:t.userData.commission,accountName:t.userData.accountName,accountNumber:t.userData.accountNumber,accountType:t.userData.accountType,bankName:t.userData.bankName,branch:t.userData.branch,ifscCode:t.userData.ifscCode}),i&&(t.selectedSegment=i,t.segment.value=i)})()}navigateBackToMakersList(){var i=this;return(0,f.Z)(function*(){let t=yield localStorage.getItem("userData");t=JSON.parse(t),i.router.navigate("maker"==t.role?["/makerDashboard"]:["/allUsers"])})()}}return(s=d).\u0275fac=function(i){return new(i||s)(e.Y36(p.F0),e.Y36(l.qu),e.Y36(g.Ye),e.Y36(y.H7),e.Y36(b.l),e.Y36(I.u),e.Y36(p.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-profile"]],viewQuery:function(i,t){if(1&i&&e.Gf(a,5),2&i){let n;e.iGM(n=e.CRH())&&(t.segment=n.first)}},decls:24,vars:7,consts:[[2,"box-shadow","none","padding","10px",3,"translucent"],["size","1.5",2,"text-align","left"],["name","person-circle-outline",1,"kd_svg_size"],["size","9",2,"padding","0px"],[2,"padding","0px","--background","white","background-color","white"],["mode","md",3,"ngModel","ngModelChange"],["segment",""],["value","profile"],["value","media",3,"disabled"],["value","bank",3,"disabled"],["size","1.5",2,"text-align","right",3,"click"],["name","close-circle-outline",1,"kd_svg_size"],[2,"height","100%"],[2,"height","100%","padding","20px"],[4,"ngIf"],[2,"border-bottom","none !important","width","100%"],[1,"kd_col_center_align",2,"flex-direction","column"],[1,"profile-photo-container"],[3,"src",4,"ngIf"],["class","upload-label",4,"ngIf"],["class","change-file-label",4,"ngIf"],[3,"formGroup"],[1,"input_selection",2,"display","grid","align-items","center"],["position","stacked"],["formControlName","userName","aria-label","Name","placeholder","Enter Name"],["formControlName","email","aria-label","Email","placeholder","Enter Email"],["formControlName","mobile","aria-label","Mobile","placeholder","Enter Mobile",3,"disabled"],["formControlName","pin","aria-label","pin","placeholder","Enter PIN",3,"disabled"],["formControlName","city","aria-label","Location","placeholder","Enter Location"],[1,"input_selection",2,"display","grid","align-items","center","height","112px","padding-top","0px"],["formControlName","bio","aria-label","Bio","maxlength","200",2,"font-size","18px"],[1,"kd_save_button",3,"click"],[3,"src"],[1,"upload-label"],["type","file","accept","image/*",3,"change"],[1,"change-file-label"],[2,"padding","0px"],[1,"add_img_div","ion-activatable","ripple-parent",3,"click"],["type","file","accept","image/*","multiple","",2,"display","none",3,"change"],["fileInput",""],[2,"color","#dfd9f1"],["name","camera-outline",2,"height","58px","width","58px"],[2,"font-size","16px"],[1,"selected-images"],[4,"ngFor","ngForOf"],[1,"image-container"],["name","close",3,"click"],[3,"src","alt"],[1,"input_selection",2,"display","grid","align-items","center","width","50%","margin-top","0px"],["type","number","formControlName","commission","aria-label","Comission","placeholder","Eg: 0%"],["formControlName","accountName","aria-label","Account Name","placeholder","Enter Name"],["formControlName","accountNumber","aria-label","Account Number","placeholder","Enter Account Number"],[3,"ngClass","click"],["formControlName","bankName","aria-label","Bank Name","placeholder","Enter Bank Name"],["formControlName","branch","aria-label","Branch","placeholder","Enter Branch"],["formControlName","ifscCode","aria-label","IFSC Code","placeholder","Enter IFSC"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-row")(2,"ion-col",1),e._UZ(3,"ion-icon",2),e.qZA(),e.TgZ(4,"ion-col",3)(5,"ion-toolbar",4)(6,"ion-segment",5,6),e.NdJ("ngModelChange",function(m){return t.selectedSegment=m}),e.TgZ(8,"ion-segment-button",7)(9,"ion-label"),e._uU(10,"Profile"),e.qZA()(),e.TgZ(11,"ion-segment-button",8)(12,"ion-label"),e._uU(13,"Media"),e.qZA()(),e.TgZ(14,"ion-segment-button",9)(15,"ion-label"),e._uU(16," Bank Account"),e.qZA()()()()(),e.TgZ(17,"ion-col",10),e.NdJ("click",function(){return t.navigateBackToMakersList()}),e._UZ(18,"ion-icon",11),e.qZA()()(),e.TgZ(19,"ion-content",12)(20,"div",13),e.YNc(21,A,42,6,"div",14)(22,U,14,1,"div",14)(23,S,42,3,"div",14),e.qZA()()),2&i&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngModel",t.selectedSegment),e.xp6(5),e.Q6J("disabled","profile"===t.selectedSegment),e.xp6(3),e.Q6J("disabled","media"===t.selectedSegment||"profile"),e.xp6(7),e.Q6J("ngIf","profile"===t.selectedSegment),e.xp6(1),e.Q6J("ngIf","media"===t.selectedSegment),e.xp6(1),e.Q6J("ngIf","bank"===t.selectedSegment))},dependencies:[g.mk,g.sg,g.O5,u.YG,u.PM,u.wI,u.W2,u.Gu,u.gu,u.pK,u.Ie,u.Q$,u.H$,u.Nd,u.cJ,u.GO,u.yW,u.g2,u.sr,u.as,u.QI,u.j9,l._Y,l.JJ,l.JL,l.nD,l.On,l.sg,l.u],styles:[".input_selection[_ngcontent-%COMP%]{border:solid 2px black;border-radius:14px;height:70px;margin:20px 0;padding:15px 10px 10px;box-shadow:none}ion-label[_ngcontent-%COMP%]{font-size:16px!important}ion-item[_ngcontent-%COMP%]{--border-style: none}.selected[_ngcontent-%COMP%]{--background: #AA4A44;color:#fff}.profile-photo-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;overflow:hidden}.profile-photo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;width:100%;height:100%;cursor:pointer;border:2px dashed #ccc;border-radius:50%}.upload-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.change-file-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;height:40px;cursor:pointer;background-color:#f5f5f5;border:2px dashed #ccc;border-radius:4px;margin-top:10px}.change-file-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}ion-segment-button[_ngcontent-%COMP%]{text-transform:none;min-width:65px;font-weight:700}ion-segment[_ngcontent-%COMP%]{align-items:baseline}.add_img_div[_ngcontent-%COMP%]{height:180px;width:100%;background:rgb(243,246,248);border-radius:9px;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:20px}ion-input[_ngcontent-%COMP%]{font-size:18px}ion-label[_ngcontent-%COMP%]{padding-top:5px!important}.selected-images[_ngcontent-%COMP%]{max-height:350px;overflow-y:auto;display:flex;flex-wrap:wrap;gap:10px;border:solid 1px black;padding:10px;margin-bottom:20px}.selected-images[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative}.selected-images[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   ion-icon[name=close][_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;font-size:20px;cursor:pointer}"]}),d})()}];let P=(()=>{var s;class d{}return(s=d).\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[p.Bz.forChild(k),p.Bz]}),d})(),_=(()=>{var s;class d{}return(s=d).\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[o.m,l.UX,P]}),d})()},5565:(J,Z,c)=>{c.d(Z,{l:()=>y});var l=c(5861),o=c(553),p=c(5678),f=c(2436),e=c(9862),g=c(4414);let y=(()=>{var b;class I{constructor(a,v,M,C){this.route=a,this.http=v,this.alertController=M,this.loadingController=C}getUsersCount(a){return this.http.post(o.N.baseUrl+"/admin/getUsersCount",a)}getListingsCount(a){return this.http.post(o.N.baseUrl+"/admin/getListingsCount",a)}getAllListings(a){return this.http.post(o.N.baseUrl+"/admin/getAllListings",a)}getListingBasedOnId(a){return this.http.post(o.N.baseUrl+"/admin/getListingBasedOnId",a)}getAllUsersList(a){return this.http.post(o.N.baseUrl+"/admin/getAllUsersList",a)}getUserBasedOnId(a){return this.http.post(o.N.baseUrl+"/admin/getUserBasedOnId",a)}activeDeActiveListing(a){return this.http.post(o.N.baseUrl+"/admin/activeDeActiveListing",a)}createMaker(a){return this.http.post(o.N.baseUrl+"/admin/createMaker",a)}updateKitchenImages(a){return this.http.post(o.N.baseUrl+"/admin/updateKitchenImages",a)}updateBankDetails(a){return this.http.post(o.N.baseUrl+"/admin/updateBankDetails",a)}getUserOverView(a){return this.http.post(o.N.baseUrl+"/admin/getUserOverView",a)}activeDeActiveUser(a){return this.http.post(o.N.baseUrl+"/admin/activeDeActiveUser",a)}getMakerDashboardData(a){return this.http.post(o.N.baseUrl+"/maker/getMakerDashboardData",a)}addEditListing(a){return this.http.post(o.N.baseUrl+"/maker/addEditListing",a)}deleteListing(a){return this.http.post(o.N.baseUrl+"/maker/deleteListing",a)}changeOrderStatus(a){return this.http.post(o.N.baseUrl+"/maker/changeOrderStatus",a)}toggleMakerStatus(a){return this.http.post(o.N.baseUrl+"/maker/toggleMakerStatus",a)}updateCustomerDetails(a){return this.http.post(o.N.baseUrl+"/customer/updateCustomerDetails",a)}getCustomerOrders(a){return this.http.post(o.N.baseUrl+"/customer/getCustomerOrders",a)}getAllListingsForCustomer(a){return this.http.post(o.N.baseUrl+"/auth/getAllListingsForCustomer",a)}setFavItem(a){return this.http.post(o.N.baseUrl+"/customer/setFavItem",a)}setUnFavItem(a){return this.http.post(o.N.baseUrl+"/customer/setUnFavItem",a)}getListingForUser(a){return this.http.post(o.N.baseUrl+"/auth/getListingForUser",a)}getCustomerAddress(a){return this.http.post(o.N.baseUrl+"/customer/getCustomerAddress",a)}deleteTempOrder(a){return this.http.post(o.N.baseUrl+"/customer/deleteTempOrder",a)}addCustomerAddress(a){return this.http.post(o.N.baseUrl+"/customer/addCustomerAddress",a)}setDefaultAddress(a){return this.http.post(o.N.baseUrl+"/customer/setDefaultAddress",a)}deleteAddress(a){return this.http.post(o.N.baseUrl+"/customer/deleteAddress",a)}addToCart(a){return this.http.post(o.N.baseUrl+"/customer/addToCart",a)}getCustomerOrderSummary(a){return this.http.post(o.N.baseUrl+"/customer/getCustomerOrderSummary",a)}placeOrder(a){return this.http.post(o.N.baseUrl+"/customer/placeOrder",a)}createOrderInRazorPay(a){return this.http.post(o.N.baseUrl+"/customer/createOrderInRazorPay",a)}payWithRazorpay(a,v,M){var C=this;return(0,l.Z)(function*(){return new Promise(function(){var A=(0,l.Z)(function*(D,U){const S={key:o.N.razorpayKey,amount:100*v,currency:"INR",name:"Vdream Innovations (OPC) private limited",description:"Vdream Innovations",order_id:a,handler:(k=(0,l.Z)(function*(P){try{let s={...yield C.verifyPayment({verify:P}),...P};console.log({obj:s}),D(s)}catch(_){console.log({error:_}),U(_)}}),function(_){return k.apply(this,arguments)}),prefill:{name:"test",email:"test",contact:"test"},theme:{color:"#3399cc"},modal:{ondismiss:()=>{U({message:"Your payment has been cancelled."})}},retry:{enabled:!1}},T=new Razorpay(S);var k;yield T.on("payment.failed",function(){var k=(0,l.Z)(function*(P){let _=P.error||P||{};_.message=_.message||_.description,T.close(),console.log("closed"),U(_)});return function(P){return k.apply(this,arguments)}}()),yield T.open()});return function(D,U){return A.apply(this,arguments)}}())})()}verifyPayment(a){return this.http.post(o.N.baseUrl+"/customer/verifyPaymentDetails",a)}savePaymentFailedDetails(a){return this.http.post(o.N.baseUrl+"/customer/savePaymentFailedDetails",a)}presentDeleteConfirmation(a,v,M){var C=this;return(0,l.Z)(function*(){return new Promise(function(){var A=(0,l.Z)(function*(D){yield(yield C.alertController.create({header:a,message:v,cssClass:M,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{D(!1)}},{text:"OK",cssClass:"primary",handler:()=>{D(!0)}}]})).present()});return function(D){return A.apply(this,arguments)}}())})()}presentLoading(){var a=this;return(0,l.Z)(function*(){const v=yield a.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield v.present(),v})()}}return(b=I).\u0275fac=function(a){return new(a||b)(p.LFG(f.F0),p.LFG(e.eN),p.LFG(g.Br),p.LFG(g.HT))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),I})()},3609:(J,Z,c)=>{c.d(Z,{m:()=>e});var l=c(9004),o=c(95),p=c(6814),f=c(5678);let e=(()=>{var g;class y{}return(g=y).\u0275fac=function(I){return new(I||g)},g.\u0275mod=f.oAB({type:g}),g.\u0275inj=f.cJS({imports:[p.ez,l.Pc,o.u5,o.UX,p.ez,l.Pc,o.u5,o.UX]}),y})()}}]);