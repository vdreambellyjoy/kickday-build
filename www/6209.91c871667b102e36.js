"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6209],{6209:(Z,v,a)=>{a.r(v),a.d(v,{ListingOverViewPageModule:()=>b});var u=a(6814),i=a(95),o=a(9004),p=a(2436),O=a(5861),e=a(5678),f=a(4414),c=a(5565);function U(s,d){if(1&s){const l=e.EpF();e.TgZ(0,"ion-col",35)(1,"ion-icon",36),e.NdJ("click",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.deleteListing())}),e.qZA()()}}function x(s,d){if(1&s){const l=e.EpF();e.TgZ(0,"ion-card",37),e.NdJ("click",function(){const g=e.CHM(l).$implicit,m=e.oxw();return e.KtG(m.openOrderDetails(g))}),e.TgZ(1,"ion-row")(2,"ion-col",38)(3,"ion-text",5),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"ion-text"),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"ion-col",39)(10,"ion-text"),e._uU(11),e.qZA(),e._UZ(12,"br"),e.qZA(),e.TgZ(13,"ion-col",40),e._UZ(14,"ion-icon",41),e.qZA()(),e.TgZ(15,"ion-row")(16,"ion-col",42),e._UZ(17,"ion-icon",43),e.TgZ(18,"ion-text",44),e._uU(19),e.qZA()(),e.TgZ(20,"ion-col")(21,"ion-text"),e._uU(22),e.qZA()()()()}if(2&s){const l=d.$implicit,r=e.oxw();e.xp6(4),e.hij("Order ",l.ID,""),e.xp6(3),e.hij("Received on ",e.xi3(8,5,r.listingData.orderEndsOn,"dd MMMM EEE hh:mm a"),""),e.xp6(4),e.hij("\u20b9 ",l.finalPrice,""),e.xp6(8),e.Oqu(l.deliveryOption.type),e.xp6(3),e.Oqu(l.status)}}const h=[{path:"",component:(()=>{var s;class d{constructor(r,n,g){this.router=r,this.navCtrl=n,this.adminService=g,this._id="",this.userData={},this.listingData={},this.selectedSegment="All",this.isToggleChecked=!1}ngOnInit(){}ionViewWillEnter(){this._id=this.router.url.split("/")[2];let r=localStorage.getItem("userData");this.userData=JSON.parse(r),this.adminService.getListingBasedOnId({_id:this._id}).subscribe(n=>{n.success&&n.data?(this.listingData=n.data||{},this.isToggleChecked=this.listingData.deActive):this.goToBack()},n=>{this.goToBack()})}goToBack(){this.router.navigate(["/listings"])}openOrderDetails(r){this.router.navigateByUrl("/customerOrderDetails/"+r._id)}editListing(){this.listingData&&this.router.navigateByUrl("/editListing/"+this.listingData._id)}toggleChanged(){this.adminService.activeDeActiveListing({_id:this.listingData._id,value:this.isToggleChecked}).subscribe(r=>{r.success||this.router.navigate(["/adminDashboard"])},r=>{console.log(r)})}deleteListing(){var r=this;return(0,O.Z)(function*(){const n=yield r.adminService.presentDeleteConfirmation("Confirm","Are you sure you want to delete?","");console.log({confirmed:n}),n&&r.adminService.deleteListing({_id:r.listingData._id}).subscribe(g=>{r.navCtrl.back()},g=>{console.log(g)})})()}}return(s=d).\u0275fac=function(r){return new(r||s)(e.Y36(p.F0),e.Y36(f.SH),e.Y36(c.l))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-listing-over-view"]],decls:79,vars:17,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","10px"],["size","2",2,"display","flex","justify-content","start","align-items","center",3,"click"],["name","arrow-back-outline",1,"kd_back_button"],["size","8",1,"kd_center_align_items"],[1,"kd_bold_font"],["size","2","class","kd_flex kd_end_align",4,"ngIf"],[3,"fullscreen"],[2,"margin","15px"],[1,"text_center",2,"margin-top","0px","display","flex","align-items","center"],[1,"kd_font_size_12",2,"margin-right","10px"],["aria-label","Dark toggle","color","dark",2,"padding-right","5px",3,"ngModel","ngModelChange","ionChange"],[1,"text_center",2,"margin-top","0px","display","flex","align-items","center",3,"click"],["src","../../../assets/edit-text.png","alt","",1,"kd_back_button"],[1,"kd_font_size_12",2,"margin-left","10px"],[2,"margin","10px 0px"],[2,"font-weight","bold"],[1,"ion-no-padding"],[2,"font-size","14px","font-weight","bold"],[1,"kd_flex"],["name","calendar-outline",1,"icon_style",2,"height","30px","width","30px"],[1,"kd_flex",2,"padding-top","5px"],[2,"margin-top","10px"],["size","2.5"],["size","7",1,"kd_center_align"],[2,"padding-right","10px"],[2,"padding-left","10px","padding-right","10px"],[1,"toolbar_styles"],["mode","md",3,"ngModel","ngModelChange"],["value","All"],["value","orderTaken"],["value","dispached"],["value","pickupDelivered"],["value","cancelled"],["class","kd_orders_card","style","margin-bottom: 15px;",3,"click",4,"ngFor","ngForOf"],["size","2",1,"kd_flex","kd_end_align"],["name","trash-outline",1,"kd_back_button",2,"color","red",3,"click"],[1,"kd_orders_card",2,"margin-bottom","15px",3,"click"],["size","6"],["size","4.5"],["size","1.5",1,"kd_flex","kd_end_align"],["name","arrow-forward-circle-outline",1,"icon_style",2,"height","32px","width","32px","padding-right","0px"],[1,"kd_center_align_items"],["name","home-outline",1,"kd_back_button"],[2,"padding-left","10px"]],template:function(r,n){1&r&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),e.NdJ("click",function(){return n.goToBack()}),e._UZ(4,"ion-icon",3),e.qZA(),e.TgZ(5,"ion-col",4)(6,"div")(7,"ion-text",5),e._uU(8),e.qZA()()(),e.YNc(9,U,2,0,"ion-col",6),e.qZA()()(),e.TgZ(10,"ion-content",7)(11,"div",8)(12,"ion-row")(13,"ion-col",9)(14,"ion-text",10),e._uU(15," inactive listing"),e.qZA(),e.TgZ(16,"ion-toggle",11),e.NdJ("ngModelChange",function(m){return n.isToggleChecked=m})("ionChange",function(){return n.toggleChanged()}),e.qZA()(),e.TgZ(17,"ion-col",12),e.NdJ("click",function(){return n.editListing()}),e._UZ(18,"img",13),e.TgZ(19,"ion-text",14),e._uU(20,"Edit Listing"),e.qZA()()(),e.TgZ(21,"ion-row")(22,"ion-col",15)(23,"ion-text",16),e._uU(24),e.qZA()()(),e.TgZ(25,"ion-row")(26,"ion-col",17)(27,"ion-text",18),e._uU(28,"Order will end on"),e.qZA()(),e.TgZ(29,"ion-col",17)(30,"ion-text",18),e._uU(31,"Order will delivered on"),e.qZA()()(),e.TgZ(32,"ion-row")(33,"ion-col",19),e._UZ(34,"ion-icon",20),e.TgZ(35,"div",21)(36,"ion-text"),e._uU(37),e.ALo(38,"date"),e.qZA()()(),e.TgZ(39,"ion-col",19),e._UZ(40,"ion-icon",20),e.TgZ(41,"div",21)(42,"ion-text"),e._uU(43),e.ALo(44,"date"),e.qZA()()()(),e.TgZ(45,"ion-row",22)(46,"ion-col",23)(47,"ion-text"),e._uU(48,"Amount"),e.qZA()(),e.TgZ(49,"ion-col",24)(50,"ion-text")(51,"span",25),e._uU(52,"\u20b9 0"),e.qZA(),e._uU(53," - "),e.TgZ(54,"span",26),e._uU(55),e.qZA(),e._uU(56," ="),e.qZA()(),e.TgZ(57,"ion-col",23)(58,"ion-text"),e._uU(59,"\u20b9 0"),e.qZA()()()(),e.TgZ(60,"ion-toolbar",27)(61,"ion-segment",28),e.NdJ("ngModelChange",function(m){return n.selectedSegment=m}),e.TgZ(62,"ion-segment-button",29)(63,"ion-label"),e._uU(64,"All"),e.qZA()(),e.TgZ(65,"ion-segment-button",30)(66,"ion-label"),e._uU(67,"Confirmed"),e.qZA()(),e.TgZ(68,"ion-segment-button",31)(69,"ion-label"),e._uU(70,"Dispached"),e.qZA()(),e.TgZ(71,"ion-segment-button",32)(72,"ion-label"),e._uU(73,"Delivered"),e.qZA()(),e.TgZ(74,"ion-segment-button",33)(75,"ion-label"),e._uU(76,"Cancelled"),e.qZA()()()(),e.TgZ(77,"div",8),e.YNc(78,x,23,8,"ion-card",34),e.qZA()()),2&r&&(e.Q6J("translucent",!0),e.xp6(8),e.hij("Listing ID: ",n.listingData.ID,""),e.xp6(1),e.Q6J("ngIf","admin"!=n.userData.role),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(6),e.Q6J("ngModel",n.isToggleChecked),e.xp6(8),e.Oqu(n.listingData.label),e.xp6(13),e.Oqu(e.xi3(38,11,n.listingData.orderEndsOn,"dd MMMM EEE hh:mm a")),e.xp6(6),e.Oqu(e.xi3(44,14,n.listingData.orderDeliveredOn,"dd MMMM EEE")),e.xp6(12),e.hij("\u20b9 0(",(null==n.listingData||null==n.listingData.makerData?null:n.listingData.makerData.commission)||0,"%)"),e.xp6(6),e.Q6J("ngModel",n.selectedSegment),e.xp6(17),e.Q6J("ngForOf",null==n.listingData?null:n.listingData.customerOrders))},dependencies:[u.sg,u.O5,i.JJ,i.On,o.PM,o.wI,o.W2,o.Gu,o.gu,o.Q$,o.Nd,o.cJ,o.GO,o.yW,o.ho,o.sr,o.w,o.QI,u.uU],styles:["ion-toggle[_ngcontent-%COMP%]::part(track){height:25px;width:45px}ion-toggle[_ngcontent-%COMP%]{--handle-height: 21px;--handle-width: 21px;--handle-spacing: 2px;--handle-background: white;--track-background: #22242880;--ion-color-base: white !important;--border-radius: 40px}ion-toggle.ios[_ngcontent-%COMP%]{--ion-color-base: #22242880 !important}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}.toolbar_styles[_ngcontent-%COMP%]{padding:0;--background: white;box-shadow:none;background-color:#dfd9f1;--box-shadow: none;margin-top:20px}"]}),d})()}];let _=(()=>{var s;class d{}return(s=d).\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[p.Bz.forChild(h),p.Bz]}),d})(),b=(()=>{var s;class d{}return(s=d).\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,i.u5,o.Pc,_]}),d})()},5565:(Z,v,a)=>{a.d(v,{l:()=>f});var u=a(5861),i=a(553),o=a(5678),p=a(2436),O=a(9862),e=a(4414);let f=(()=>{var c;class U{constructor(t,h,_){this.route=t,this.http=h,this.alertController=_}getUsersCount(t){return this.http.post(i.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(i.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(i.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(i.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(i.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(i.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(i.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(i.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(i.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(i.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(i.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(i.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(i.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(i.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(i.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(i.N.baseUrl+"/maker/changeOrderStatus",t)}updateCustomerDetails(t){return this.http.post(i.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(i.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(i.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(i.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(i.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(i.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(i.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(i.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(i.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(i.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(i.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(i.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(i.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(i.N.baseUrl+"/customer/placeOrder",t)}presentDeleteConfirmation(t,h,_){var b=this;return(0,u.Z)(function*(){return new Promise(function(){var s=(0,u.Z)(function*(d){yield(yield b.alertController.create({header:t,message:h,cssClass:_,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{d(!1)}},{text:"OK",cssClass:"primary",handler:()=>{d(!0)}}]})).present()});return function(d){return s.apply(this,arguments)}}())})()}}return(c=U).\u0275fac=function(t){return new(t||c)(o.LFG(p.F0),o.LFG(O.eN),o.LFG(e.Br))},c.\u0275prov=o.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),U})()}}]);