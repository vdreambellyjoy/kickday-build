"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2138],{2138:(Z,v,a)=>{a.r(v),a.d(v,{CustomerListingsPageModule:()=>E});var m=a(3609),n=a(2436),p=a(5861),x=a(8650),e=a(5678),u=a(4414),c=a(9004),_=a(5565),y=a(185),T=a(6814),i=a(9172);const h=["swiper"];function C(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-button",14),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.goToLogin())}),e._uU(1,"Login"),e.qZA()}}function L(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-icon",15),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.openSearchModel())}),e.qZA()}}function D(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-icon",16),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.openSearchModel())}),e.qZA()}}function U(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-icon",17),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.clearFilter())}),e.qZA()}}function A(s,g){if(1&s&&(e.TgZ(0,"swiper-slide"),e._UZ(1,"img",36),e.ALo(2,"async"),e.ALo(3,"getLogo"),e.qZA()),2&s){const o=g.$implicit;e.xp6(1),e.Q6J("src",e.lcZ(2,1,e.lcZ(3,3,o)),e.LSH)}}function k(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-card",22),e.NdJ("click",function(){const l=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.goToListingOverview(l))}),e.TgZ(1,"swiper-container",23,24),e.NdJ("afterinit",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.swiperReady())})("slidechange",function(r){e.CHM(o);const l=e.oxw(2);return e.KtG(l.swiperSlideChanged(r))}),e.YNc(3,A,4,5,"swiper-slide",25),e.qZA(),e.TgZ(4,"ion-row",26)(5,"ion-col",27)(6,"div",28)(7,"ion-text",29),e._uU(8),e.qZA()(),e.TgZ(9,"ion-text",30)(10,"span",29),e._uU(11,"Maker"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"span",31),e._uU(14),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"span",31),e._uU(17),e.qZA()()(),e.TgZ(18,"ion-col",32)(19,"div")(20,"ion-text",29),e._uU(21,"Order Ends on"),e.qZA(),e.TgZ(22,"div",33),e._UZ(23,"ion-icon",34),e.TgZ(24,"ion-text",35),e._uU(25),e.ALo(26,"date"),e.qZA()()()()()()}if(2&s){const o=g.$implicit;e.xp6(1),e.Q6J("loop",!0)("pagination",!0)("slidesPerView",1)("slidesPerGroup",1),e.xp6(2),e.Q6J("ngForOf",o.imageArray),e.xp6(5),e.Oqu(null==o||null==o.makerData||null==o.makerData.userName?null:o.makerData.userName.charAt(0)),e.xp6(6),e.Oqu(o.makerData.userName),e.xp6(3),e.Oqu(o.makerData.address),e.xp6(8),e.Oqu(e.xi3(26,9,o.orderEndsOn,"dd MMMM EEE hh:mm a"))}}function w(s,g){1&s&&e._UZ(0,"div",37)}function M(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-content",18)(1,"ion-refresher",19),e.NdJ("ionRefresh",function(r){e.CHM(o);const l=e.oxw();return e.KtG(l.handleRefresh(r))}),e._UZ(2,"ion-refresher-content"),e.qZA(),e.YNc(3,k,27,12,"ion-card",20)(4,w,1,0,"div",21),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngForOf",o.filteredItems),e.xp6(1),e.Q6J("ngIf",o.showMenu)}}function O(s,g){1&s&&(e.TgZ(0,"ion-content")(1,"div",38)(2,"ion-text",39),e._uU(3,"WhatsApp what you're looking for to "),e.TgZ(4,"a",40),e._uU(5,"9652177277"),e.qZA(),e._uU(6,"."),e.qZA(),e._UZ(7,"img",41)(8,"div",42),e.qZA()())}function b(s,g){if(1&s){const o=e.EpF();e.TgZ(0,"ion-footer",43)(1,"ion-card",44)(2,"ion-row")(3,"ion-col",45),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.goToOrders())}),e._UZ(4,"ion-ripple-effect",46)(5,"ion-icon",47),e.TgZ(6,"ion-text",48),e._uU(7,"Orders"),e.qZA()(),e.TgZ(8,"ion-col",49),e._UZ(9,"ion-ripple-effect",46)(10,"ion-icon",50),e.TgZ(11,"ion-text",48),e._uU(12,"Listings"),e.qZA()(),e.TgZ(13,"ion-col",45),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.goToProfile())}),e._UZ(14,"ion-ripple-effect",46)(15,"ion-icon",51),e.TgZ(16,"ion-text",48),e._uU(17,"Profile"),e.qZA()()()()()}}const I=[{path:"",component:(()=>{var s;class g{constructor(t,r,l,d,f){this.router=t,this.model=r,this.alert=l,this.adminService=d,this.authService=f,this.selectedSegment="All",this.filteredItems=[],this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.showMenu=!1}ngOnInit(){}ionViewWillEnter(){var t=this;return(0,p.Z)(function*(){const r=yield t.adminService.presentLoading();if(t.filterSearchTerm="",t.filterDeliveryType="",t.filterDeliveryDate="",t.adminService.getAllListingsForCustomer({}).subscribe(l=>{t.listings=l.data||[],t.filteredItems=t.listings,r.dismiss()},l=>{console.log(l),r.dismiss()}),localStorage.getItem("token")&&localStorage.getItem("userData")){let l=localStorage.getItem("token"),d=JSON.parse(l);t.authService.checkUserToken({token:d}).subscribe(f=>{f.data&&f.success?(localStorage.setItem("userData",JSON.stringify(f.data)),t.showMenu=!0):t.showMenu=!1},f=>{localStorage.clear(),t.showMenu=!1})}else localStorage.clear(),t.showMenu=!1;t.swiperReady()})()}handlePress(t){t.stopPropagation()}swiperSlideChanged(t){console.log("changed: ",t)}swiperReady(){var t;this.swiper=null===(t=this.swiperRef)||void 0===t?void 0:t.nativeElement.swiper}goNext(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slideNext()}goPrev(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slidePrev()}goToListingOverview(t){this.router.navigateByUrl("/customerListings/"+t._id)}goToOrders(){this.router.navigate(["/orders"])}goToProfile(){this.router.navigate(["/customerProfile"])}goToLogin(){this.router.navigate(["/login"])}onSearch(t){const r=t.target.value.trim().toLowerCase();this.filteredItems=!r||r.length<1?[...this.listings]:this.listings.filter(l=>{const d=l&&l.category?l.category.toLowerCase():"";return console.log(d,"searchhhh"),d.includes(r)})}openSearchModel(){var t=this;return(0,p.Z)(function*(){let r={search:t.filterSearchTerm||"",selectedDeliveryType:t.filterDeliveryType||"",selectedOption:t.filterDeliveryDate||""};const l=yield t.model.create({component:x.Z,componentProps:r});l.present();const{data:d}=yield l.onWillDismiss();d&&(t.filterSearchTerm=d.searchTerm,t.filterDeliveryType=d.deliveryType,t.filterDeliveryDate=d.deliveryDate,t.adminService.getAllListingsForCustomer({search:t.filterSearchTerm||"",deliveryType:t.filterDeliveryType||"",deliveryDate:t.filterDeliveryDate||""}).subscribe(P=>{t.listings=P.data||[],t.filteredItems=t.listings},P=>{console.log(P)}))})()}clearFilter(){this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(t=>{this.listings=t.data||[],this.filteredItems=this.listings},t=>{console.log(t)})}handleRefresh(t){this.ionViewWillEnter(),setTimeout(()=>{t.target.complete()},500)}}return(s=g).\u0275fac=function(t){return new(t||s)(e.Y36(n.F0),e.Y36(u.IN),e.Y36(u.Br),e.Y36(_.l),e.Y36(y.u))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-customer-listings"]],viewQuery:function(t,r){if(1&t&&e.Gf(h,5),2&t){let l;e.iGM(l=e.CRH())&&(r.swiperRef=l.first)}},decls:15,vars:8,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","22px 15px"],["size","9",2,"display","flex","justify-content","start","align-items","center"],["src","../../../assets/icons/Kickday-logo-removebg-preview.png","alt","",2,"position","absolute","height","120px","width","120px"],["size","3",1,"kd_flex","kd_end_align"],["style","margin: 0px; min-height: 30px",3,"click",4,"ngIf"],[2,"display","flex","align-items","center"],["placeholder","Search by Category",1,"searchbar-custom",2,"padding","20px",3,"keyup"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;",3,"click",4,"ngIf"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;color:blue",3,"click",4,"ngIf"],["name","rocket-outline","style","padding-right: 20px;color:blue;font-size: 30px;",3,"click",4,"ngIf"],[3,"fullscreen",4,"ngIf"],[4,"ngIf"],["style","bottom: 0px; position: absolute",4,"ngIf"],[2,"margin","0px","min-height","30px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px","color","blue",3,"click"],["name","rocket-outline",2,"padding-right","20px","color","blue","font-size","30px",3,"click"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["class","kd_orders_card","style","margin: 20px",3,"click",4,"ngFor","ngForOf"],["style","height: 100px;",4,"ngIf"],[1,"kd_orders_card",2,"margin","20px",3,"click"],[2,"height","240px",3,"loop","pagination","slidesPerView","slidesPerGroup","afterinit","slidechange"],["swiper",""],[4,"ngFor","ngForOf"],[2,"padding","10px"],[1,"kd_flex"],[1,"first_letter_styles"],[2,"font-weight","bold"],[2,"padding-left","10px"],[1,"kd_font_size_14"],[1,"kd_flex","kd_end_align"],[1,"kd_flex",2,"padding-top","5px"],["name","calendar-outline",1,"icon_style",2,"height","20px","width","20px"],[2,"font-size","14px !important"],[3,"src"],[2,"height","100px"],[2,"height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"padding","0px 10px","text-align","center","z-index","10"],["href","tel:9652177277"],["src","../../../assets/Untitled design.svg",2,"height","500px","width","500px"],[2,"height","80px"],[2,"bottom","0px","position","absolute"],[2,"margin","0px","border-radius","0px","padding","10px"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent",3,"click"],[1,"ripple_background"],["name","bag-handle-outline",1,"footer_icon_styles"],[1,"icon-text_styles"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent"],["name","list-circle-outline",1,"footer_icon_styles"],["name","person-circle-outline",1,"footer_icon_styles"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"ion-col",4),e.YNc(6,C,2,0,"ion-button",5),e.qZA()(),e.TgZ(7,"div",6)(8,"ion-searchbar",7),e.NdJ("keyup",function(d){return r.onSearch(d)}),e.qZA(),e.YNc(9,L,1,0,"ion-icon",8)(10,D,1,0,"ion-icon",9)(11,U,1,0,"ion-icon",10),e.qZA()()(),e.YNc(12,M,5,3,"ion-content",11)(13,O,9,0,"ion-content",12)(14,b,18,0,"ion-footer",13)),2&t&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",!r.showMenu),e.xp6(3),e.Q6J("ngIf",!r.filterSearchTerm&&!r.filterDeliveryType&&!r.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",r.filterSearchTerm||r.filterDeliveryType||r.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",r.filterSearchTerm||r.filterDeliveryType||r.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",null==r.filteredItems?null:r.filteredItems.length),e.xp6(1),e.Q6J("ngIf",!(null!=r.filteredItems&&r.filteredItems.length)),e.xp6(1),e.Q6J("ngIf",r.showMenu))},dependencies:[T.sg,T.O5,c.YG,c.PM,c.wI,c.W2,c.fr,c.Gu,c.gu,c.nJ,c.Wo,c.H$,c.Nd,c.VI,c.yW,c.sr,c.j9,i.n,T.Ov,T.uU],styles:["ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}swiper-container[_ngcontent-%COMP%]{--swiper-pagination-bullet-inactive-color: var(--ion-color-step-500, white);--swiper-theme-color: #0aa26d}"]}),g})()}];let N=(()=>{var s;class g{}return(s=g).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.Bz.forChild(I),n.Bz]}),g})(),E=(()=>{var s;class g{}return(s=g).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.m,N]}),g})()},5565:(Z,v,a)=>{a.d(v,{l:()=>c});var m=a(5861),n=a(553),p=a(5678),x=a(2436),e=a(9862),u=a(4414);let c=(()=>{var _;class y{constructor(i,h,C,L){this.route=i,this.http=h,this.alertController=C,this.loadingController=L}getUsersCount(i){return this.http.post(n.N.baseUrl+"/admin/getUsersCount",i)}getListingsCount(i){return this.http.post(n.N.baseUrl+"/admin/getListingsCount",i)}getAllListings(i){return this.http.post(n.N.baseUrl+"/admin/getAllListings",i)}getListingBasedOnId(i){return this.http.post(n.N.baseUrl+"/admin/getListingBasedOnId",i)}getAllUsersList(i){return this.http.post(n.N.baseUrl+"/admin/getAllUsersList",i)}getUserBasedOnId(i){return this.http.post(n.N.baseUrl+"/admin/getUserBasedOnId",i)}activeDeActiveListing(i){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveListing",i)}createMaker(i){return this.http.post(n.N.baseUrl+"/admin/createMaker",i)}updateKitchenImages(i){return this.http.post(n.N.baseUrl+"/admin/updateKitchenImages",i)}updateBankDetails(i){return this.http.post(n.N.baseUrl+"/admin/updateBankDetails",i)}getUserOverView(i){return this.http.post(n.N.baseUrl+"/admin/getUserOverView",i)}activeDeActiveUser(i){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveUser",i)}getMakerDashboardData(i){return this.http.post(n.N.baseUrl+"/maker/getMakerDashboardData",i)}addEditListing(i){return this.http.post(n.N.baseUrl+"/maker/addEditListing",i)}deleteListing(i){return this.http.post(n.N.baseUrl+"/maker/deleteListing",i)}changeOrderStatus(i){return this.http.post(n.N.baseUrl+"/maker/changeOrderStatus",i)}updateCustomerDetails(i){return this.http.post(n.N.baseUrl+"/customer/updateCustomerDetails",i)}getCustomerOrders(i){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrders",i)}getAllListingsForCustomer(i){return this.http.post(n.N.baseUrl+"/auth/getAllListingsForCustomer",i)}setFavItem(i){return this.http.post(n.N.baseUrl+"/customer/setFavItem",i)}setUnFavItem(i){return this.http.post(n.N.baseUrl+"/customer/setUnFavItem",i)}getListingForUser(i){return this.http.post(n.N.baseUrl+"/auth/getListingForUser",i)}getCustomerAddress(i){return this.http.post(n.N.baseUrl+"/customer/getCustomerAddress",i)}deleteTempOrder(i){return this.http.post(n.N.baseUrl+"/customer/deleteTempOrder",i)}addCustomerAddress(i){return this.http.post(n.N.baseUrl+"/customer/addCustomerAddress",i)}setDefaultAddress(i){return this.http.post(n.N.baseUrl+"/customer/setDefaultAddress",i)}deleteAddress(i){return this.http.post(n.N.baseUrl+"/customer/deleteAddress",i)}addToCart(i){return this.http.post(n.N.baseUrl+"/customer/addToCart",i)}getCustomerOrderSummary(i){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrderSummary",i)}placeOrder(i){return this.http.post(n.N.baseUrl+"/customer/placeOrder",i)}presentDeleteConfirmation(i,h,C){var L=this;return(0,m.Z)(function*(){return new Promise(function(){var D=(0,m.Z)(function*(U){yield(yield L.alertController.create({header:i,message:h,cssClass:C,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{U(!1)}},{text:"OK",cssClass:"primary",handler:()=>{U(!0)}}]})).present()});return function(U){return D.apply(this,arguments)}}())})()}presentLoading(){var i=this;return(0,m.Z)(function*(){const h=yield i.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield h.present(),h})()}}return(_=y).\u0275fac=function(i){return new(i||_)(p.LFG(x.F0),p.LFG(e.eN),p.LFG(u.Br),p.LFG(u.HT))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),y})()},3609:(Z,v,a)=>{a.d(v,{m:()=>e});var m=a(9004),n=a(95),p=a(6814),x=a(5678);let e=(()=>{var u;class c{}return(u=c).\u0275fac=function(y){return new(y||u)},u.\u0275mod=x.oAB({type:u}),u.\u0275inj=x.cJS({imports:[p.ez,m.Pc,n.u5,n.UX,p.ez,m.Pc,n.u5,n.UX]}),c})()}}]);