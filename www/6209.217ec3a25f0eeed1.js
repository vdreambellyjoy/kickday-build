"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6209],{6209:(b,U,a)=>{a.r(U),a.d(U,{ListingOverViewPageModule:()=>v});var c=a(6814),n=a(95),s=a(9004),m=a(2436),O=a(5861),e=a(5678),x=a(4414),u=a(5565);function f(o,d){if(1&o){const l=e.EpF();e.TgZ(0,"ion-col",35)(1,"ion-icon",36),e.NdJ("click",function(){e.CHM(l);const i=e.oxw();return e.KtG(i.deleteListing())}),e.qZA()()}}function Z(o,d){if(1&o){const l=e.EpF();e.TgZ(0,"ion-card",37),e.NdJ("click",function(){const g=e.CHM(l).$implicit,h=e.oxw();return e.KtG(h.openOrderDetails(g))}),e.TgZ(1,"ion-row")(2,"ion-col",38)(3,"ion-text",5),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"ion-text"),e._uU(7),e.qZA()(),e.TgZ(8,"ion-col",23)(9,"ion-text",5),e._uU(10),e.qZA(),e._UZ(11,"br"),e.qZA(),e.TgZ(12,"ion-col",39),e._UZ(13,"ion-icon",40),e.qZA()(),e.TgZ(14,"ion-row")(15,"ion-col",4),e._UZ(16,"ion-icon",41),e.TgZ(17,"ion-text",42),e._uU(18),e.qZA()(),e.TgZ(19,"ion-col",43)(20,"ion-text"),e._uU(21),e.qZA()()()()}if(2&o){const l=d.$implicit,r=e.oxw();e.xp6(4),e.hij("Order ",l.ID,""),e.xp6(3),e.hij("Received on ",r.formatTimestamp(l.timeStamp),""),e.xp6(3),e.hij("\u20b9 ",l.finalPrice,""),e.xp6(8),e.Oqu(l.deliveryOption.type),e.xp6(3),e.Oqu(l.status)}}const p=[{path:"",component:(()=>{var o;class d{constructor(r,i,g){this.router=r,this.navCtrl=i,this.adminService=g,this._id="",this.userData={},this.listingData={},this.selectedSegment="All",this.isToggleChecked=!1}ngOnInit(){}ionViewWillEnter(){this._id=this.router.url.split("/")[2];let r=localStorage.getItem("userData");this.userData=JSON.parse(r),this.adminService.getListingBasedOnId({_id:this._id}).subscribe(i=>{i.success&&i.data?(this.listingData=i.data||{},this.isToggleChecked=this.listingData.deActive):this.goToBack()},i=>{this.goToBack()})}goToBack(){this.router.navigate(["/listings"])}openOrderDetails(r){this.router.navigateByUrl("/customerOrderDetails/"+r._id)}editListing(){this.listingData&&this.router.navigateByUrl("/editListing/"+this.listingData._id)}toggleChanged(){this.adminService.activeDeActiveListing({_id:this.listingData._id,value:this.isToggleChecked}).subscribe(r=>{r.success||this.router.navigate(["/adminDashboard"])},r=>{console.log(r)})}deleteListing(){var r=this;return(0,O.Z)(function*(){const i=yield r.adminService.presentDeleteConfirmation("Confirm","Are you sure you want to delete?","");console.log({confirmed:i}),i&&r.adminService.deleteListing({_id:r.listingData._id}).subscribe(g=>{r.navCtrl.back()},g=>{console.log(g)})})()}formatTimestamp(r){const i=new Date(r);return`${i.getDate()} ${i.toLocaleString("en-US",{month:"short"})} ${i.toLocaleString("en-US",{weekday:"short"})} ${i.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`}}return(o=d).\u0275fac=function(r){return new(r||o)(e.Y36(m.F0),e.Y36(x.SH),e.Y36(u.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-listing-over-view"]],decls:79,vars:17,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","10px"],["size","2",2,"display","flex","justify-content","start","align-items","center",3,"click"],["name","arrow-back-outline",1,"kd_back_button"],["size","8",1,"kd_center_align_items"],[1,"kd_bold_font"],["size","2","class","kd_flex kd_end_align",4,"ngIf"],[3,"fullscreen"],[2,"margin","15px"],[1,"text_center",2,"margin-top","0px","display","flex","align-items","center"],[1,"kd_font_size_12",2,"margin-right","10px"],["aria-label","Dark toggle","color","dark",2,"padding-right","5px",3,"ngModel","ngModelChange","ionChange"],[1,"text_center",2,"margin-top","0px","display","flex","align-items","center",3,"click"],["src","../../../assets/edit-text.png","alt","",1,"kd_back_button"],[1,"kd_font_size_12",2,"margin-left","10px"],[2,"margin","10px 0px"],[2,"font-weight","bold"],[1,"ion-no-padding"],[2,"font-size","14px","font-weight","bold"],[1,"kd_flex"],["name","calendar-outline",1,"icon_style",2,"height","30px","width","30px"],[1,"kd_flex",2,"padding-top","5px"],[2,"margin-top","10px"],["size","2.5"],["size","7",1,"kd_center_align"],[2,"padding-right","10px"],[2,"padding-left","10px","padding-right","10px"],[1,"toolbar_styles"],["mode","md",3,"ngModel","ngModelChange"],["value","All"],["value","orderTaken"],["value","dispached"],["value","pickupDelivered"],["value","cancelled"],["class","kd_orders_card",3,"click",4,"ngFor","ngForOf"],["size","2",1,"kd_flex","kd_end_align"],["name","trash-outline",1,"kd_back_button",2,"color","red",3,"click"],[1,"kd_orders_card",3,"click"],["size","8"],["size","1.5",1,"kd_flex","kd_end_align"],["name","arrow-forward-circle-outline",1,"icon_style",2,"height","32px","width","32px","padding-right","0px"],["name","home-outline",1,"kd_back_button"],[2,"padding-left","10px"],["size","4"]],template:function(r,i){1&r&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),e.NdJ("click",function(){return i.goToBack()}),e._UZ(4,"ion-icon",3),e.qZA(),e.TgZ(5,"ion-col",4)(6,"div")(7,"ion-text",5),e._uU(8),e.qZA()()(),e.YNc(9,f,2,0,"ion-col",6),e.qZA()()(),e.TgZ(10,"ion-content",7)(11,"div",8)(12,"ion-row")(13,"ion-col",9)(14,"ion-text",10),e._uU(15," inactive listing"),e.qZA(),e.TgZ(16,"ion-toggle",11),e.NdJ("ngModelChange",function(h){return i.isToggleChecked=h})("ionChange",function(){return i.toggleChanged()}),e.qZA()(),e.TgZ(17,"ion-col",12),e.NdJ("click",function(){return i.editListing()}),e._UZ(18,"img",13),e.TgZ(19,"ion-text",14),e._uU(20,"Edit Listing"),e.qZA()()(),e.TgZ(21,"ion-row")(22,"ion-col",15)(23,"ion-text",16),e._uU(24),e.qZA()()(),e.TgZ(25,"ion-row")(26,"ion-col",17)(27,"ion-text",18),e._uU(28,"Order will end on"),e.qZA()(),e.TgZ(29,"ion-col",17)(30,"ion-text",18),e._uU(31,"Order will delivered on"),e.qZA()()(),e.TgZ(32,"ion-row")(33,"ion-col",19),e._UZ(34,"ion-icon",20),e.TgZ(35,"div",21)(36,"ion-text"),e._uU(37),e.ALo(38,"date"),e.qZA()()(),e.TgZ(39,"ion-col",19),e._UZ(40,"ion-icon",20),e.TgZ(41,"div",21)(42,"ion-text"),e._uU(43),e.ALo(44,"date"),e.qZA()()()(),e.TgZ(45,"ion-row",22)(46,"ion-col",23)(47,"ion-text"),e._uU(48,"Amount"),e.qZA()(),e.TgZ(49,"ion-col",24)(50,"ion-text")(51,"span",25),e._uU(52,"\u20b9 0"),e.qZA(),e._uU(53," - "),e.TgZ(54,"span",26),e._uU(55),e.qZA(),e._uU(56," ="),e.qZA()(),e.TgZ(57,"ion-col",23)(58,"ion-text"),e._uU(59,"\u20b9 0"),e.qZA()()()(),e.TgZ(60,"ion-toolbar",27)(61,"ion-segment",28),e.NdJ("ngModelChange",function(h){return i.selectedSegment=h}),e.TgZ(62,"ion-segment-button",29)(63,"ion-label"),e._uU(64,"All"),e.qZA()(),e.TgZ(65,"ion-segment-button",30)(66,"ion-label"),e._uU(67,"Confirmed"),e.qZA()(),e.TgZ(68,"ion-segment-button",31)(69,"ion-label"),e._uU(70,"Dispached"),e.qZA()(),e.TgZ(71,"ion-segment-button",32)(72,"ion-label"),e._uU(73,"Delivered"),e.qZA()(),e.TgZ(74,"ion-segment-button",33)(75,"ion-label"),e._uU(76,"Cancelled"),e.qZA()()()(),e.TgZ(77,"div",8),e.YNc(78,Z,22,5,"ion-card",34),e.qZA()()),2&r&&(e.Q6J("translucent",!0),e.xp6(8),e.hij("Listing ID: ",i.listingData.ID,""),e.xp6(1),e.Q6J("ngIf","admin"!=i.userData.role),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(6),e.Q6J("ngModel",i.isToggleChecked),e.xp6(8),e.Oqu(i.listingData.label),e.xp6(13),e.Oqu(e.xi3(38,11,i.listingData.orderEndsOn,"dd MMMM EEE hh:mm a")),e.xp6(6),e.Oqu(e.xi3(44,14,i.listingData.orderDeliveredOn,"dd MMMM EEE")),e.xp6(12),e.hij("\u20b9 0(",(null==i.listingData||null==i.listingData.makerData?null:i.listingData.makerData.commission)||0,"%)"),e.xp6(6),e.Q6J("ngModel",i.selectedSegment),e.xp6(17),e.Q6J("ngForOf",null==i.listingData?null:i.listingData.customerOrders))},dependencies:[c.sg,c.O5,n.JJ,n.On,s.PM,s.wI,s.W2,s.Gu,s.gu,s.Q$,s.Nd,s.cJ,s.GO,s.yW,s.ho,s.sr,s.w,s.QI,c.uU],styles:["ion-toggle[_ngcontent-%COMP%]::part(track){height:25px;width:45px}ion-toggle[_ngcontent-%COMP%]{--handle-height: 21px;--handle-width: 21px;--handle-spacing: 2px;--handle-background: white;--track-background: #22242880;--ion-color-base: white !important;--border-radius: 40px}ion-toggle.ios[_ngcontent-%COMP%]{--ion-color-base: #22242880 !important}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}.toolbar_styles[_ngcontent-%COMP%]{padding:0;--background: white;box-shadow:none;background-color:#dfd9f1;--box-shadow: none;margin-top:20px}.kd_orders_card[_ngcontent-%COMP%]{margin:15px 0 20px!important;padding:10px}"]}),d})()}];let _=(()=>{var o;class d{}return(o=d).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(p),m.Bz]}),d})(),v=(()=>{var o;class d{}return(o=d).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,n.u5,s.Pc,_]}),d})()},5565:(b,U,a)=>{a.d(U,{l:()=>x});var c=a(5861),n=a(553),s=a(5678),m=a(2436),O=a(9862),e=a(4414);let x=(()=>{var u;class f{constructor(t,p,_,v){this.route=t,this.http=p,this.alertController=_,this.loadingController=v}getUsersCount(t){return this.http.post(n.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(n.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(n.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(n.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(n.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(n.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(n.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(n.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(n.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(n.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(n.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(n.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(n.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(n.N.baseUrl+"/maker/changeOrderStatus",t)}updateCustomerDetails(t){return this.http.post(n.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(n.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(n.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(n.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(n.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(n.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(n.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(n.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(n.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(n.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(n.N.baseUrl+"/customer/placeOrder",t)}presentDeleteConfirmation(t,p,_){var v=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(d){yield(yield v.alertController.create({header:t,message:p,cssClass:_,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{d(!1)}},{text:"OK",cssClass:"primary",handler:()=>{d(!0)}}]})).present()});return function(d){return o.apply(this,arguments)}}())})()}presentLoading(){var t=this;return(0,c.Z)(function*(){const p=yield t.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield p.present(),p})()}}return(u=f).\u0275fac=function(t){return new(t||u)(s.LFG(m.F0),s.LFG(O.eN),s.LFG(e.Br),s.LFG(e.HT))},u.\u0275prov=s.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),f})()}}]);