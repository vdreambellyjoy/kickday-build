"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2138],{2138:(P,_,a)=>{a.r(_),a.d(_,{CustomerListingsPageModule:()=>O});var m=a(3609),s=a(2436),h=a(5861),f=a(8650),e=a(5678),u=a(4414),c=a(9004),p=a(5565),v=a(185),y=a(6814),t=a(9172);const T=["swiper"];function C(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"ion-button",16),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.goToLogin())}),e._uU(1,"Login"),e.qZA()}}function L(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"ion-icon",17),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.openSearchModel())}),e.qZA()}}function U(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"ion-icon",18),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.openSearchModel())}),e.qZA()}}function x(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"ion-icon",19),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.clearFilter())}),e.qZA()}}function w(n,d){if(1&n&&(e.TgZ(0,"swiper-slide"),e._UZ(1,"img",35),e.ALo(2,"async"),e.ALo(3,"getLogo"),e.qZA()),2&n){const o=d.$implicit;e.xp6(1),e.Q6J("src",e.lcZ(2,1,e.lcZ(3,3,o)),e.LSH)}}function A(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){const l=e.CHM(o).$implicit,g=e.oxw();return e.KtG(g.goToListingOverview(l))}),e.TgZ(1,"swiper-container",21,22),e.NdJ("afterinit",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.swiperReady())})("slidechange",function(r){e.CHM(o);const l=e.oxw();return e.KtG(l.swiperSlideChanged(r))}),e.YNc(3,w,4,5,"swiper-slide",23),e.TgZ(4,"swiper-slide")(5,"iframe",24),e.NdJ("press",function(r){e.CHM(o);const l=e.oxw();return e.KtG(l.handlePress(r))}),e.qZA()()(),e.TgZ(6,"ion-row",25)(7,"ion-col",26)(8,"div",27)(9,"ion-text",28),e._uU(10),e.qZA()(),e.TgZ(11,"ion-text",29)(12,"span",28),e._uU(13,"Maker"),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"span",30),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span",30),e._uU(19),e.qZA()()(),e.TgZ(20,"ion-col",31)(21,"div")(22,"ion-text",28),e._uU(23,"Order Ends on"),e.qZA(),e.TgZ(24,"div",32),e._UZ(25,"ion-icon",33),e.TgZ(26,"ion-text",34),e._uU(27),e.ALo(28,"date"),e.qZA()()()()()()}if(2&n){const o=d.$implicit;e.xp6(1),e.Q6J("loop",!0)("pagination",!0)("slidesPerView",1)("slidesPerGroup",1),e.xp6(2),e.Q6J("ngForOf",o.imageArray),e.xp6(7),e.Oqu(null==o||null==o.makerData||null==o.makerData.userName?null:o.makerData.userName.charAt(0)),e.xp6(6),e.Oqu(o.makerData.userName),e.xp6(3),e.Oqu(o.makerData.address),e.xp6(8),e.Oqu(e.xi3(28,9,o.orderEndsOn,"dd MMMM EEE hh:mm a"))}}function M(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"ion-footer",36)(1,"ion-card",37)(2,"ion-row")(3,"ion-col",38),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.goToOrders())}),e._UZ(4,"ion-ripple-effect",39)(5,"ion-icon",40),e.TgZ(6,"ion-text",41),e._uU(7,"Orders"),e.qZA()(),e.TgZ(8,"ion-col",42),e._UZ(9,"ion-ripple-effect",39)(10,"ion-icon",43),e.TgZ(11,"ion-text",41),e._uU(12,"Listings"),e.qZA()(),e.TgZ(13,"ion-col",38),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.goToProfile())}),e._UZ(14,"ion-ripple-effect",39)(15,"ion-icon",44),e.TgZ(16,"ion-text",41),e._uU(17,"Profile"),e.qZA()()()()()}}const Z=[{path:"",component:(()=>{var n;class d{constructor(i,r,l,g,b){this.router=i,this.model=r,this.alert=l,this.adminService=g,this.authService=b,this.selectedSegment="All",this.filteredItems=[],this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.showMenu=!1}ngOnInit(){}ionViewWillEnter(){if(this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(i=>{this.listings=i.data||[],this.filteredItems=this.listings},i=>{console.log(i)}),localStorage.getItem("token")&&localStorage.getItem("userData")){let i=localStorage.getItem("token"),r=JSON.parse(i);this.authService.checkUserToken({token:r}).subscribe(l=>{l.data&&l.success?(localStorage.setItem("userData",JSON.stringify(l.data)),this.showMenu=!0):this.showMenu=!1},l=>{localStorage.clear(),this.showMenu=!1})}else localStorage.clear(),this.showMenu=!1;this.swiperReady()}handlePress(i){i.stopPropagation()}swiperSlideChanged(i){console.log("changed: ",i)}swiperReady(){var i;this.swiper=null===(i=this.swiperRef)||void 0===i?void 0:i.nativeElement.swiper}goNext(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slideNext()}goPrev(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slidePrev()}goToListingOverview(i){this.router.navigateByUrl("/customerListings/"+i._id)}goToOrders(){this.router.navigate(["/orders"])}goToProfile(){this.router.navigate(["/customerProfile"])}goToLogin(){this.router.navigate(["/login"])}onSearch(i){const r=i.target.value.trim().toLowerCase();this.filteredItems=!r||r.length<1?[...this.listings]:this.listings.filter(l=>{const g=l&&l.category?l.category.toLowerCase():"";return console.log(g,"searchhhh"),g.includes(r)})}openSearchModel(){var i=this;return(0,h.Z)(function*(){let r={search:i.filterSearchTerm||"",selectedDeliveryType:i.filterDeliveryType||"",selectedOption:i.filterDeliveryDate||""};const l=yield i.model.create({component:f.Z,componentProps:r});l.present();const{data:g}=yield l.onWillDismiss();g&&(i.filterSearchTerm=g.searchTerm,i.filterDeliveryType=g.deliveryType,i.filterDeliveryDate=g.deliveryDate,i.adminService.getAllListingsForCustomer({search:i.filterSearchTerm||"",deliveryType:i.filterDeliveryType||"",deliveryDate:i.filterDeliveryDate||""}).subscribe(D=>{i.listings=D.data||[],i.filteredItems=i.listings},D=>{console.log(D)}))})()}clearFilter(){this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(i=>{this.listings=i.data||[],this.filteredItems=this.listings},i=>{console.log(i)})}handleRefresh(i){this.ionViewWillEnter(),setTimeout(()=>{i.target.complete()},500)}}return(n=d).\u0275fac=function(i){return new(i||n)(e.Y36(s.F0),e.Y36(u.IN),e.Y36(u.Br),e.Y36(p.l),e.Y36(v.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-listings"]],viewQuery:function(i,r){if(1&i&&e.Gf(T,5),2&i){let l;e.iGM(l=e.CRH())&&(r.swiperRef=l.first)}},decls:18,vars:8,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","10px"],["size","9",2,"display","flex","justify-content","start","align-items","center"],["src","../../../assets/icons/Kickday-logo-removebg-preview.png","alt","",2,"position","absolute","height","120px","width","120px"],["size","3",1,"kd_flex","kd_end_align"],["style","margin: 0px; min-height: 30px",3,"click",4,"ngIf"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[2,"display","flex","align-items","center"],["placeholder","Search by Category",1,"searchbar-custom",2,"padding","20px",3,"keyup"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;",3,"click",4,"ngIf"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;color:blue",3,"click",4,"ngIf"],["name","rocket-outline","style","padding-right: 20px;color:blue;font-size: 30px;",3,"click",4,"ngIf"],["style","border: solid 1px lightgray; border-radius: 14px; margin: 20px",3,"click",4,"ngFor","ngForOf"],[2,"height","100px"],["style","bottom: 0px; position: absolute",4,"ngIf"],[2,"margin","0px","min-height","30px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px","color","blue",3,"click"],["name","rocket-outline",2,"padding-right","20px","color","blue","font-size","30px",3,"click"],[2,"border","solid 1px lightgray","border-radius","14px","margin","20px",3,"click"],[2,"height","240px",3,"loop","pagination","slidesPerView","slidesPerGroup","afterinit","slidechange"],["swiper",""],[4,"ngFor","ngForOf"],["width","100%","height","100%","src","https://www.youtube.com/embed/7Y5q41D8_hs","frameborder","0","allowfullscreen","",3,"press"],[2,"padding","10px"],[1,"kd_flex"],[1,"first_letter_styles"],[2,"font-weight","bold"],[2,"padding-left","10px"],[1,"kd_font_size_14"],[1,"kd_flex","kd_end_align"],[1,"kd_flex",2,"padding-top","5px"],["name","calendar-outline",1,"icon_style",2,"height","20px","width","20px"],[2,"font-size","14px !important"],[3,"src"],[2,"bottom","0px","position","absolute"],[2,"margin","0px","border-radius","0px","padding","10px"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent",3,"click"],[1,"ripple_background"],["name","bag-handle-outline",1,"footer_icon_styles"],[1,"icon-text_styles"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent"],["name","list-circle-outline",1,"footer_icon_styles"],["name","person-circle-outline",1,"footer_icon_styles"]],template:function(i,r){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"ion-col",4),e.YNc(6,C,2,0,"ion-button",5),e.qZA()()()(),e.TgZ(7,"ion-content",6)(8,"ion-refresher",7),e.NdJ("ionRefresh",function(g){return r.handleRefresh(g)}),e._UZ(9,"ion-refresher-content"),e.qZA(),e.TgZ(10,"div",8)(11,"ion-searchbar",9),e.NdJ("keyup",function(g){return r.onSearch(g)}),e.qZA(),e.YNc(12,L,1,0,"ion-icon",10)(13,U,1,0,"ion-icon",11)(14,x,1,0,"ion-icon",12),e.qZA(),e.YNc(15,A,29,12,"div",13),e._UZ(16,"div",14),e.qZA(),e.YNc(17,M,18,0,"ion-footer",15)),2&i&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("ngIf",!r.showMenu),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("ngIf",!r.filterSearchTerm&&!r.filterDeliveryType&&!r.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",r.filterSearchTerm||r.filterDeliveryType||r.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",r.filterSearchTerm||r.filterDeliveryType||r.filterDeliveryDate),e.xp6(1),e.Q6J("ngForOf",r.filteredItems),e.xp6(2),e.Q6J("ngIf",r.showMenu))},dependencies:[y.sg,y.O5,c.YG,c.PM,c.wI,c.W2,c.fr,c.Gu,c.gu,c.nJ,c.Wo,c.H$,c.Nd,c.VI,c.yW,c.sr,c.j9,t.n,y.Ov,y.uU],styles:["ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}swiper-container[_ngcontent-%COMP%]{--swiper-pagination-bullet-inactive-color: var(--ion-color-step-500, white);--swiper-theme-color: #0aa26d}"]}),d})()}];let k=(()=>{var n;class d{}return(n=d).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(Z),s.Bz]}),d})(),O=(()=>{var n;class d{}return(n=d).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.m,k]}),d})()},5565:(P,_,a)=>{a.d(_,{l:()=>c});var m=a(5861),s=a(553),h=a(5678),f=a(2436),e=a(9862),u=a(4414);let c=(()=>{var p;class v{constructor(t,T,C){this.route=t,this.http=T,this.alertController=C}getUsersCount(t){return this.http.post(s.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(s.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(s.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(s.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(s.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(s.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(s.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(s.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(s.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(s.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(s.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(s.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(s.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(s.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(s.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(s.N.baseUrl+"/maker/changeOrderStatus",t)}updateCustomerDetails(t){return this.http.post(s.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(s.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(s.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(s.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(s.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(s.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(s.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(s.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(s.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(s.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(s.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(s.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(s.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(s.N.baseUrl+"/customer/placeOrder",t)}presentDeleteConfirmation(t,T,C){var L=this;return(0,m.Z)(function*(){return new Promise(function(){var U=(0,m.Z)(function*(x){yield(yield L.alertController.create({header:t,message:T,cssClass:C,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{x(!1)}},{text:"OK",cssClass:"primary",handler:()=>{x(!0)}}]})).present()});return function(x){return U.apply(this,arguments)}}())})()}}return(p=v).\u0275fac=function(t){return new(t||p)(h.LFG(f.F0),h.LFG(e.eN),h.LFG(u.Br))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),v})()},3609:(P,_,a)=>{a.d(_,{m:()=>e});var m=a(9004),s=a(95),h=a(6814),f=a(5678);let e=(()=>{var u;class c{}return(u=c).\u0275fac=function(v){return new(v||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[h.ez,m.Pc,s.u5,s.UX,h.ez,m.Pc,s.u5,s.UX]}),c})()}}]);