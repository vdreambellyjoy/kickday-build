"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6209],{6209:(D,U,a)=>{a.r(U),a.d(U,{ListingOverViewPageModule:()=>v});var c=a(6814),n=a(95),s=a(9004),m=a(2436),O=a(5861),t=a(5678),Z=a(4414),u=a(5565);function f(o,g){if(1&o){const l=t.EpF();t.TgZ(0,"ion-col",35)(1,"ion-icon",36),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.deleteListing())}),t.qZA()()}}function b(o,g){if(1&o){const l=t.EpF();t.TgZ(0,"ion-card",37),t.NdJ("click",function(){const d=t.CHM(l).$implicit,h=t.oxw();return t.KtG(h.openOrderDetails(d))}),t.TgZ(1,"ion-row")(2,"ion-col",38)(3,"ion-text",5),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"ion-text"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-col",39)(9,"ion-text",5),t._uU(10),t.qZA(),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"ion-col",40),t._UZ(13,"ion-icon",41),t.qZA()(),t.TgZ(14,"ion-row")(15,"ion-col",4),t._UZ(16,"ion-icon",42),t.TgZ(17,"ion-text",43),t._uU(18),t.qZA()(),t.TgZ(19,"ion-col",44)(20,"ion-text"),t._uU(21),t.qZA()()()()}if(2&o){const l=g.$implicit,r=t.oxw();t.xp6(4),t.hij("Order ",l.ID,""),t.xp6(3),t.hij("Received on ",r.formatTimestamp(l.timeStamp),""),t.xp6(3),t.hij("\u20b9 ",l.itemsCostIncludingCharges,""),t.xp6(8),t.Oqu(l.deliveryOption.type),t.xp6(3),t.Oqu(l.status)}}const p=[{path:"",component:(()=>{var o;class g{constructor(r,i,d){this.router=r,this.navCtrl=i,this.adminService=d,this._id="",this.userData={},this.listingData={},this.selectedSegment="All",this.isToggleChecked=!1}ngOnInit(){}ionViewWillEnter(){this._id=this.router.url.split("/")[2];let r=localStorage.getItem("userData");this.userData=JSON.parse(r),this.adminService.getListingBasedOnId({_id:this._id}).subscribe(i=>{i.success&&i.data?(this.listingData=i.data||{},this.isToggleChecked=this.listingData.deActive):this.goToBack()},i=>{this.goToBack()})}goToBack(){this.router.navigate(["/listings"])}openOrderDetails(r){this.router.navigateByUrl("/customerOrderDetails/"+r._id)}editListing(){this.listingData&&this.router.navigateByUrl("/editListing/"+this.listingData._id)}toggleChanged(){this.adminService.activeDeActiveListing({_id:this.listingData._id,value:this.isToggleChecked}).subscribe(r=>{r.success||this.router.navigate(["/adminDashboard"])},r=>{console.log(r)})}deleteListing(){var r=this;return(0,O.Z)(function*(){const i=yield r.adminService.presentDeleteConfirmation("Confirm","Are you sure you want to delete?","");console.log({confirmed:i}),i&&r.adminService.deleteListing({_id:r.listingData._id}).subscribe(d=>{r.navCtrl.back()},d=>{console.log(d)})})()}formatTimestamp(r){const i=new Date(r);return`${i.getDate()} ${i.toLocaleString("en-US",{month:"short"})} ${i.toLocaleString("en-US",{weekday:"short"})} ${i.toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`}}return(o=g).\u0275fac=function(r){return new(r||o)(t.Y36(m.F0),t.Y36(Z.SH),t.Y36(u.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-listing-over-view"]],decls:85,vars:20,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","10px"],["size","2",2,"display","flex","justify-content","start","align-items","center",3,"click"],["name","arrow-back-outline",1,"kd_back_button"],["size","8",1,"kd_center_align_items"],[1,"kd_bold_font"],["size","2","class","kd_flex kd_end_align",4,"ngIf"],[3,"fullscreen"],[2,"margin","15px"],[1,"text_center",2,"margin-top","0px","display","flex","align-items","center"],[1,"kd_font_size_12",2,"margin-right","10px"],["aria-label","Dark toggle","color","dark",2,"padding-right","5px",3,"ngModel","ngModelChange","ionChange"],[1,"text_center",2,"margin-top","0px","display","flex","align-items","center",3,"click"],["src","../../../assets/edit-text.png","alt","",1,"kd_back_button"],[1,"kd_font_size_12",2,"margin-left","10px"],[2,"margin","10px 0px"],[2,"font-weight","bold"],[1,"ion-no-padding"],[2,"font-size","14px","font-weight","bold"],[1,"kd_flex"],["name","calendar-outline",1,"icon_style",2,"height","30px","width","30px"],[1,"kd_flex",2,"padding-top","5px"],[1,"kd_orders_card",2,"margin-top","10px"],["size","6"],[2,"color","green","font-weight","bold"],["size","4",1,"kd_center_align"],[2,"color","red","font-weight","bold"],[1,"toolbar_styles"],["mode","md",3,"ngModel","ngModelChange"],["value","All"],["value","orderTaken"],["value","dispached"],["value","pickupDelivered"],["value","cancelled"],["class","kd_orders_card",3,"click",4,"ngFor","ngForOf"],["size","2",1,"kd_flex","kd_end_align"],["name","trash-outline",1,"kd_back_button",2,"color","red",3,"click"],[1,"kd_orders_card",3,"click"],["size","8"],["size","2.5"],["size","1.5",1,"kd_flex","kd_end_align"],["name","arrow-forward-circle-outline",1,"icon_style",2,"height","32px","width","32px","padding-right","0px"],["name","home-outline",1,"kd_back_button"],[2,"padding-left","10px"],["size","4"]],template:function(r,i){1&r&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),t.NdJ("click",function(){return i.goToBack()}),t._UZ(4,"ion-icon",3),t.qZA(),t.TgZ(5,"ion-col",4)(6,"div")(7,"ion-text",5),t._uU(8),t.qZA()()(),t.YNc(9,f,2,0,"ion-col",6),t.qZA()()(),t.TgZ(10,"ion-content",7)(11,"div",8)(12,"ion-row")(13,"ion-col",9)(14,"ion-text",10),t._uU(15," inactive listing"),t.qZA(),t.TgZ(16,"ion-toggle",11),t.NdJ("ngModelChange",function(h){return i.isToggleChecked=h})("ionChange",function(){return i.toggleChanged()}),t.qZA()(),t.TgZ(17,"ion-col",12),t.NdJ("click",function(){return i.editListing()}),t._UZ(18,"img",13),t.TgZ(19,"ion-text",14),t._uU(20,"Edit Listing"),t.qZA()()(),t.TgZ(21,"ion-row")(22,"ion-col",15)(23,"ion-text",16),t._uU(24),t.qZA()()(),t.TgZ(25,"ion-row")(26,"ion-col",17)(27,"ion-text",18),t._uU(28,"Order will end on"),t.qZA()(),t.TgZ(29,"ion-col",17)(30,"ion-text",18),t._uU(31,"Order will delivered on"),t.qZA()()(),t.TgZ(32,"ion-row")(33,"ion-col",19),t._UZ(34,"ion-icon",20),t.TgZ(35,"div",21)(36,"ion-text"),t._uU(37),t.ALo(38,"date"),t.qZA()()(),t.TgZ(39,"ion-col",19),t._UZ(40,"ion-icon",20),t.TgZ(41,"div",21)(42,"ion-text"),t._uU(43),t.ALo(44,"date"),t.qZA()()()(),t.TgZ(45,"ion-row",22)(46,"ion-col",23)(47,"ion-text"),t._uU(48,"Total Earned : "),t.TgZ(49,"span",24),t._uU(50),t.qZA()()(),t.TgZ(51,"ion-col",25)(52,"ion-text"),t._uU(53,"Kickday : "),t.TgZ(54,"span",26),t._uU(55),t.qZA()()(),t.TgZ(56,"ion-col",23)(57,"ion-text"),t._uU(58,"Delivery : "),t.TgZ(59,"span",26),t._uU(60),t.qZA()()(),t.TgZ(61,"ion-col",23)(62,"ion-text"),t._uU(63,"GST : "),t.TgZ(64,"span",26),t._uU(65),t.qZA()()()()(),t.TgZ(66,"ion-toolbar",27)(67,"ion-segment",28),t.NdJ("ngModelChange",function(h){return i.selectedSegment=h}),t.TgZ(68,"ion-segment-button",29)(69,"ion-label"),t._uU(70,"All"),t.qZA()(),t.TgZ(71,"ion-segment-button",30)(72,"ion-label"),t._uU(73,"Confirmed"),t.qZA()(),t.TgZ(74,"ion-segment-button",31)(75,"ion-label"),t._uU(76,"Dispached"),t.qZA()(),t.TgZ(77,"ion-segment-button",32)(78,"ion-label"),t._uU(79,"Delivered"),t.qZA()(),t.TgZ(80,"ion-segment-button",33)(81,"ion-label"),t._uU(82,"Cancelled"),t.qZA()()()(),t.TgZ(83,"div",8),t.YNc(84,b,22,5,"ion-card",34),t.qZA()()),2&r&&(t.Q6J("translucent",!0),t.xp6(8),t.hij("Listing ID: ",i.listingData.ID,""),t.xp6(1),t.Q6J("ngIf","admin"!=i.userData.role),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(6),t.Q6J("ngModel",i.isToggleChecked),t.xp6(8),t.Oqu(i.listingData.label),t.xp6(13),t.Oqu(t.xi3(38,14,i.listingData.orderEndsOn,"dd MMMM EEE hh:mm a")),t.xp6(6),t.Oqu(t.xi3(44,17,i.listingData.orderDeliveredOn,"dd MMMM EEE")),t.xp6(7),t.hij("\u20b9 ",null==i.listingData?null:i.listingData.totalEarnings,""),t.xp6(5),t.hij("\u20b9 ",null==i.listingData?null:i.listingData.totalCommisionAmount,""),t.xp6(5),t.hij("\u20b9 ",null==i.listingData?null:i.listingData.totalDeliveryCost,""),t.xp6(5),t.hij("\u20b9 ",null==i.listingData?null:i.listingData.totalGstAmount,""),t.xp6(2),t.Q6J("ngModel",i.selectedSegment),t.xp6(17),t.Q6J("ngForOf",null==i.listingData?null:i.listingData.customerOrders))},dependencies:[c.sg,c.O5,n.JJ,n.On,s.PM,s.wI,s.W2,s.Gu,s.gu,s.Q$,s.Nd,s.cJ,s.GO,s.yW,s.ho,s.sr,s.w,s.QI,c.uU],styles:["ion-toggle[_ngcontent-%COMP%]::part(track){height:25px;width:45px}ion-toggle[_ngcontent-%COMP%]{--handle-height: 21px;--handle-width: 21px;--handle-spacing: 2px;--handle-background: white;--track-background: #22242880;--ion-color-base: white !important;--border-radius: 40px}ion-toggle.ios[_ngcontent-%COMP%]{--ion-color-base: #22242880 !important}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}.toolbar_styles[_ngcontent-%COMP%]{padding:0;--background: white;box-shadow:none;background-color:#dfd9f1;--box-shadow: none;margin-top:20px}.kd_orders_card[_ngcontent-%COMP%]{margin:15px 0 20px!important;padding:10px}"]}),g})()}];let _=(()=>{var o;class g{}return(o=g).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(p),m.Bz]}),g})(),v=(()=>{var o;class g{}return(o=g).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,n.u5,s.Pc,_]}),g})()},5565:(D,U,a)=>{a.d(U,{l:()=>Z});var c=a(5861),n=a(553),s=a(5678),m=a(2436),O=a(9862),t=a(4414);let Z=(()=>{var u;class f{constructor(e,p,_,v){this.route=e,this.http=p,this.alertController=_,this.loadingController=v}getUsersCount(e){return this.http.post(n.N.baseUrl+"/admin/getUsersCount",e)}getListingsCount(e){return this.http.post(n.N.baseUrl+"/admin/getListingsCount",e)}getAllListings(e){return this.http.post(n.N.baseUrl+"/admin/getAllListings",e)}getListingBasedOnId(e){return this.http.post(n.N.baseUrl+"/admin/getListingBasedOnId",e)}getAllUsersList(e){return this.http.post(n.N.baseUrl+"/admin/getAllUsersList",e)}getUserBasedOnId(e){return this.http.post(n.N.baseUrl+"/admin/getUserBasedOnId",e)}activeDeActiveListing(e){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveListing",e)}createMaker(e){return this.http.post(n.N.baseUrl+"/admin/createMaker",e)}updateKitchenImages(e){return this.http.post(n.N.baseUrl+"/admin/updateKitchenImages",e)}updateBankDetails(e){return this.http.post(n.N.baseUrl+"/admin/updateBankDetails",e)}getUserOverView(e){return this.http.post(n.N.baseUrl+"/admin/getUserOverView",e)}activeDeActiveUser(e){return this.http.post(n.N.baseUrl+"/admin/activeDeActiveUser",e)}getMakerDashboardData(e){return this.http.post(n.N.baseUrl+"/maker/getMakerDashboardData",e)}addEditListing(e){return this.http.post(n.N.baseUrl+"/maker/addEditListing",e)}deleteListing(e){return this.http.post(n.N.baseUrl+"/maker/deleteListing",e)}changeOrderStatus(e){return this.http.post(n.N.baseUrl+"/maker/changeOrderStatus",e)}toggleMakerStatus(e){return this.http.post(n.N.baseUrl+"/maker/toggleMakerStatus",e)}updateCustomerDetails(e){return this.http.post(n.N.baseUrl+"/customer/updateCustomerDetails",e)}getCustomerOrders(e){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrders",e)}getAllListingsForCustomer(e){return this.http.post(n.N.baseUrl+"/auth/getAllListingsForCustomer",e)}setFavItem(e){return this.http.post(n.N.baseUrl+"/customer/setFavItem",e)}setUnFavItem(e){return this.http.post(n.N.baseUrl+"/customer/setUnFavItem",e)}getListingForUser(e){return this.http.post(n.N.baseUrl+"/auth/getListingForUser",e)}getCustomerAddress(e){return this.http.post(n.N.baseUrl+"/customer/getCustomerAddress",e)}deleteTempOrder(e){return this.http.post(n.N.baseUrl+"/customer/deleteTempOrder",e)}addCustomerAddress(e){return this.http.post(n.N.baseUrl+"/customer/addCustomerAddress",e)}setDefaultAddress(e){return this.http.post(n.N.baseUrl+"/customer/setDefaultAddress",e)}deleteAddress(e){return this.http.post(n.N.baseUrl+"/customer/deleteAddress",e)}addToCart(e){return this.http.post(n.N.baseUrl+"/customer/addToCart",e)}getCustomerOrderSummary(e){return this.http.post(n.N.baseUrl+"/customer/getCustomerOrderSummary",e)}placeOrder(e){return this.http.post(n.N.baseUrl+"/customer/placeOrder",e)}presentDeleteConfirmation(e,p,_){var v=this;return(0,c.Z)(function*(){return new Promise(function(){var o=(0,c.Z)(function*(g){yield(yield v.alertController.create({header:e,message:p,cssClass:_,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{g(!1)}},{text:"OK",cssClass:"primary",handler:()=>{g(!0)}}]})).present()});return function(g){return o.apply(this,arguments)}}())})()}presentLoading(){var e=this;return(0,c.Z)(function*(){const p=yield e.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield p.present(),p})()}}return(u=f).\u0275fac=function(e){return new(e||u)(s.LFG(m.F0),s.LFG(O.eN),s.LFG(t.Br),s.LFG(t.HT))},u.\u0275prov=s.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),f})()}}]);