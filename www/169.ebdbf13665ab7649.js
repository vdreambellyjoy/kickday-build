"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[169],{169:(M,b,o)=>{o.r(b),o.d(b,{MakerDashboardPageModule:()=>_});var d=o(6814),r=o(95),i=o(9004),f=o(2436),e=o(5678),U=o(5565),y=o(185);function h(s,c){1&s&&(e.TgZ(0,"ion-text"),e._uU(1,"Switch to Maker"),e.qZA())}function k(s,c){1&s&&e._uU(0,"Switch to Customer")}const t=[{path:"",component:(()=>{var s;class c{constructor(n,a,l){this.router=n,this.adminService=a,this.authService=l,this.userData={},this.moneyEarned=0,this.listingsCount=0,this.isToggleChecked=!1}ngOnInit(){}ionViewWillEnter(){let n=localStorage.getItem("userData");n&&"undefined"!=n&&"undefined"!=n?(this.userData=JSON.parse(n),this.isToggleChecked=!1,this.adminService.getMakerDashboardData({}).subscribe(a=>{a.success&&(this.moneyEarned=a.moneyEarned,this.listingsCount=a.listingsCount)},a=>{console.log(a)})):this.authService.localLogOut()}toggleChanged(){this.adminService.toggleMakerStatus({value:!0}).subscribe(n=>{n.success&&n.userData&&(localStorage.setItem("userData",JSON.stringify(n.userData)),this.isToggleChecked&&this.router.navigate(["/customerListings"]))},n=>{console.log("error at updating role",n.message)})}navigateToAllListings(){this.router.navigate(["/listings"])}navigateToCreateListing(){this.router.navigate(["/createListing"])}editMaker(){this.router.navigateByUrl("/editprofile/"+this.userData._id)}logOut(){this.authService.logOut({}).subscribe(n=>{localStorage.clear(),this.router.navigate(["/customerListings"])},n=>{console.log(n)})}}return(s=c).\u0275fac=function(n){return new(n||s)(e.Y36(f.F0),e.Y36(U.l),e.Y36(y.u))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-maker-dashboard"]],decls:59,vars:7,consts:[[2,"box-shadow","none",3,"translucent"],[1,"kd_transperent_header"],[2,"padding","10px"],[1,"kd_col_center_align"],["name","person-circle-outline",2,"height","30px","width","30px","padding-right","10px"],[1,"kd_flex","kd_end_align",2,"align-items","center"],[2,"margin-right","10px",3,"click"],["name","log-out-outline",2,"height","30px","width","30px",3,"click"],[3,"fullscreen"],[2,"display","flex","flex-direction","column","justify-content","space-evenly","height","90%"],[1,"text_center",2,"margin-top","0px"],["aria-label","Dark toggle","color","success",2,"padding-bottom","15px",3,"ngModel","ngModelChange","ionChange"],[4,"ngIf","ngIfElse"],["customerText",""],[1,"text_center",3,"click"],["name","people-outline",2,"height","40px","width","40px"],[1,"kd_main_heading",2,"font-size","45px"],[2,"top","5px","position","relative"],[1,"text_center"],[2,"bottom","0px","position","absolute"],[2,"margin","0px","border-radius","0px","padding","10px"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent",3,"click"],[1,"ripple_background"],["name","bag-handle-outline",1,"footer_icon_styles"],[1,"icon-text_styles"],["name","add-circle-outline",1,"footer_icon_styles"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent"],["name","person-circle-outline",1,"footer_icon_styles"]],template:function(n,a){if(1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-row",2)(3,"ion-col",3),e._UZ(4,"ion-icon",4),e.TgZ(5,"ion-text"),e._uU(6,"Profile"),e.qZA()(),e.TgZ(7,"ion-col",5)(8,"ion-text",6),e.NdJ("click",function(){return a.logOut()}),e._uU(9,"Logout"),e.qZA(),e.TgZ(10,"ion-icon",7),e.NdJ("click",function(){return a.logOut()}),e.qZA()()()()(),e.TgZ(11,"ion-content",8)(12,"div",9)(13,"div")(14,"ion-row")(15,"ion-col",10)(16,"ion-toggle",11),e.NdJ("ngModelChange",function(v){return a.isToggleChecked=v})("ionChange",function(){return a.toggleChanged()}),e.qZA(),e._UZ(17,"br"),e.YNc(18,h,2,0,"ion-text",12)(19,k,1,0,"ng-template",null,13,e.W1O),e.qZA()(),e.TgZ(21,"ion-row")(22,"ion-col",14),e.NdJ("click",function(){return a.editMaker()}),e._UZ(23,"ion-icon",15)(24,"br"),e.TgZ(25,"ion-text"),e._uU(26,"Edit Profile"),e.qZA()()(),e.TgZ(27,"ion-row")(28,"ion-col",14),e.NdJ("click",function(){return a.navigateToAllListings()}),e.TgZ(29,"ion-text",16),e._uU(30),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"ion-text",17),e._uU(33,"Listings"),e.qZA()()(),e.TgZ(34,"ion-row")(35,"ion-col",18)(36,"ion-text",16),e._uU(37),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"ion-text",17),e._uU(40,"Money Earned"),e.qZA()()()()()(),e.TgZ(41,"ion-footer",19)(42,"ion-card",20)(43,"ion-row")(44,"ion-col",21),e.NdJ("click",function(){return a.navigateToAllListings()}),e._UZ(45,"ion-ripple-effect",22)(46,"ion-icon",23),e.TgZ(47,"ion-text",24),e._uU(48,"Listings"),e.qZA()(),e.TgZ(49,"ion-col",21),e.NdJ("click",function(){return a.navigateToCreateListing()}),e._UZ(50,"ion-ripple-effect",22)(51,"ion-icon",25),e.TgZ(52,"ion-text",24),e._uU(53,"Create Listing"),e.qZA()(),e.TgZ(54,"ion-col",26),e._UZ(55,"ion-ripple-effect",22)(56,"ion-icon",27),e.TgZ(57,"ion-text",24),e._uU(58,"Profile"),e.qZA()()()()()),2&n){const l=e.MAs(20);e.Q6J("translucent",!0),e.xp6(11),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("ngModel",a.isToggleChecked),e.xp6(2),e.Q6J("ngIf",a.isToggleChecked)("ngIfElse",l),e.xp6(12),e.Oqu(a.listingsCount),e.xp6(7),e.Oqu(a.moneyEarned)}},dependencies:[d.O5,r.JJ,r.On,i.PM,i.wI,i.W2,i.fr,i.Gu,i.gu,i.H$,i.Nd,i.yW,i.ho,i.sr,i.w],styles:[".text_center[_ngcontent-%COMP%]{text-align:center;margin-top:60px}.icon-text_styles[_ngcontent-%COMP%]{font-size:12px;padding-top:5px}.ripple_background[_ngcontent-%COMP%]{color:#b58ff1;border-radius:18px}.footer_icon_styles[_ngcontent-%COMP%]{height:40px;width:40px}"]}),c})()}];let g=(()=>{var s;class c{}return(s=c).\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[f.Bz.forChild(t),f.Bz]}),c})(),_=(()=>{var s;class c{}return(s=c).\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[d.ez,r.u5,i.Pc,g]}),c})()},5565:(M,b,o)=>{o.d(b,{l:()=>y});var d=o(5861),r=o(553),i=o(5678),f=o(2436),e=o(9862),U=o(4414);let y=(()=>{var h;class k{constructor(t,g,_,s){this.route=t,this.http=g,this.alertController=_,this.loadingController=s}getUsersCount(t){return this.http.post(r.N.baseUrl+"/admin/getUsersCount",t)}getListingsCount(t){return this.http.post(r.N.baseUrl+"/admin/getListingsCount",t)}getAllListings(t){return this.http.post(r.N.baseUrl+"/admin/getAllListings",t)}getListingBasedOnId(t){return this.http.post(r.N.baseUrl+"/admin/getListingBasedOnId",t)}getAllUsersList(t){return this.http.post(r.N.baseUrl+"/admin/getAllUsersList",t)}getUserBasedOnId(t){return this.http.post(r.N.baseUrl+"/admin/getUserBasedOnId",t)}activeDeActiveListing(t){return this.http.post(r.N.baseUrl+"/admin/activeDeActiveListing",t)}createMaker(t){return this.http.post(r.N.baseUrl+"/admin/createMaker",t)}updateKitchenImages(t){return this.http.post(r.N.baseUrl+"/admin/updateKitchenImages",t)}updateBankDetails(t){return this.http.post(r.N.baseUrl+"/admin/updateBankDetails",t)}getUserOverView(t){return this.http.post(r.N.baseUrl+"/admin/getUserOverView",t)}activeDeActiveUser(t){return this.http.post(r.N.baseUrl+"/admin/activeDeActiveUser",t)}getMakerDashboardData(t){return this.http.post(r.N.baseUrl+"/maker/getMakerDashboardData",t)}addEditListing(t){return this.http.post(r.N.baseUrl+"/maker/addEditListing",t)}deleteListing(t){return this.http.post(r.N.baseUrl+"/maker/deleteListing",t)}changeOrderStatus(t){return this.http.post(r.N.baseUrl+"/maker/changeOrderStatus",t)}toggleMakerStatus(t){return this.http.post(r.N.baseUrl+"/maker/toggleMakerStatus",t)}updateCustomerDetails(t){return this.http.post(r.N.baseUrl+"/customer/updateCustomerDetails",t)}getCustomerOrders(t){return this.http.post(r.N.baseUrl+"/customer/getCustomerOrders",t)}getAllListingsForCustomer(t){return this.http.post(r.N.baseUrl+"/auth/getAllListingsForCustomer",t)}setFavItem(t){return this.http.post(r.N.baseUrl+"/customer/setFavItem",t)}setUnFavItem(t){return this.http.post(r.N.baseUrl+"/customer/setUnFavItem",t)}getListingForUser(t){return this.http.post(r.N.baseUrl+"/auth/getListingForUser",t)}getCustomerAddress(t){return this.http.post(r.N.baseUrl+"/customer/getCustomerAddress",t)}deleteTempOrder(t){return this.http.post(r.N.baseUrl+"/customer/deleteTempOrder",t)}addCustomerAddress(t){return this.http.post(r.N.baseUrl+"/customer/addCustomerAddress",t)}setDefaultAddress(t){return this.http.post(r.N.baseUrl+"/customer/setDefaultAddress",t)}deleteAddress(t){return this.http.post(r.N.baseUrl+"/customer/deleteAddress",t)}addToCart(t){return this.http.post(r.N.baseUrl+"/customer/addToCart",t)}getCustomerOrderSummary(t){return this.http.post(r.N.baseUrl+"/customer/getCustomerOrderSummary",t)}placeOrder(t){return this.http.post(r.N.baseUrl+"/customer/placeOrder",t)}createOrderInRazorPay(t){return this.http.post(r.N.baseUrl+"/customer/createOrderInRazorPay",t)}payWithRazorpay(t,g,_){var s=this;return(0,d.Z)(function*(){return new Promise(function(){var c=(0,d.Z)(function*(u,n){const a={key:r.N.razorpayKey,amount:100*g,currency:"INR",name:"Vdream Innovations (OPC) private limited",description:"Vdream Innovations",order_id:t,handler:(v=(0,d.Z)(function*(m){try{let D={...yield s.verifyPayment({verify:m}),...m};console.log({obj:D}),u(D)}catch(p){console.log({error:p}),n(p)}}),function(p){return v.apply(this,arguments)}),prefill:{name:"test",email:"test",contact:"test"},theme:{color:"#3399cc"},modal:{ondismiss:()=>{n({message:"Your payment has been cancelled."})}},retry:{enabled:!1}},l=new Razorpay(a);var v;yield l.on("payment.failed",function(){var v=(0,d.Z)(function*(m){let p=m.error||m||{};p.message=p.message||p.description,l.close(),console.log("closed"),n(p)});return function(m){return v.apply(this,arguments)}}()),yield l.open()});return function(u,n){return c.apply(this,arguments)}}())})()}verifyPayment(t){return this.http.post(r.N.baseUrl+"/customer/verifyPaymentDetails",t)}savePaymentFailedDetails(t){return this.http.post(r.N.baseUrl+"/customer/savePaymentFailedDetails",t)}presentDeleteConfirmation(t,g,_){var s=this;return(0,d.Z)(function*(){return new Promise(function(){var c=(0,d.Z)(function*(u){yield(yield s.alertController.create({header:t,message:g,cssClass:_,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{u(!1)}},{text:"OK",cssClass:"primary",handler:()=>{u(!0)}}]})).present()});return function(u){return c.apply(this,arguments)}}())})()}presentLoading(){var t=this;return(0,d.Z)(function*(){const g=yield t.loadingController.create({message:"Loading...",translucent:!0,backdropDismiss:!1});return yield g.present(),g})()}}return(h=k).\u0275fac=function(t){return new(t||h)(i.LFG(f.F0),i.LFG(e.eN),i.LFG(U.Br),i.LFG(U.HT))},h.\u0275prov=i.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),k})()}}]);